function hideButtons(){$(".confirmation-buttons").hide()}function readURL(t){if(t.files&&t.files[0]){var e=new FileReader,i=$(".panel-bg-cover"),n=$(i).css("background-image"),o=n.replace("url(","").replace(")","");e.onload=function(t){i.css("background-image",'url("'+t.target.result+'")'),$(".confirmation-buttons").show()},e.readAsDataURL(t.files[0]),$("#heading-cancel-button").on("click",function(){i.css("background-image",'url("'+o+'")'),hideButtons()})}}function SmoothlyMenu(){!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},200)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},100)):$("#side-menu").removeAttr("style")}!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t.returnExportsGlobal=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,i,n,o,s,a,r,l,c,d,h;d="caret",e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){var e,i,n,o;return(o=c.getSelection())&&(n=0,i=!1,(e=function(t,s){var a,l,c,d,h,u;for(h=s.childNodes,u=[],c=0,d=h.length;d>c&&(a=h[c],!i);c++)if(3===a.nodeType){if(n+a.length>=t){i=!0,l=r.createRange(),l.setStart(a,t-n),o.removeAllRanges(),o.addRange(l);break}u.push(n+=a.length)}else u.push(e(t,a));return u})(t,this.domInputor)),this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=r.selection.createRange(),t=r.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,i;return(i=this.range())?(t=i.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(i.endContainer,i.endOffset),e=t.toString().length,t.detach(),e):r.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=r.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var i,n,o,s,a;return c.getSelection&&(o=this.range())?(o.endOffset-1>0&&o.endContainer!==this.domInputor&&(i=o.cloneRange(),i.setStart(o.endContainer,o.endOffset-1),i.setEnd(o.endContainer,o.endOffset),s=i.getBoundingClientRect(),n={height:s.height,left:s.left+s.width,top:s.top},i.detach()),n&&0!==(null!=n?n.height:void 0)||(i=o.cloneRange(),a=t(r.createTextNode("|")),i.insertNode(a[0]),i.selectNode(a[0]),s=i.getBoundingClientRect(),n={height:s.height,left:s.left,top:s.top},a.remove(),i.detach())):r.selection&&(n=this.getOldIEOffset()),n&&(n.top+=t(c).scrollTop(),n.left+=t(c).scrollLeft()),n},e.prototype.range=function(){var t;if(c.getSelection)return t=c.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),i=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,i,n,o,s,a;return e=this.domInputor,s=r.selection.createRange(),o=0,s&&s.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n"),i=n.length,a=e.createTextRange(),a.moveToBookmark(s.getBookmark()),t=e.createTextRange(),t.collapse(!1),o=a.compareEndPoints("StartToEnd",t)>-1?i:-a.moveStart("character",-i)),o},e.prototype.getPos=function(){return r.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,i;return e=this.domInputor,r.selection?(i=e.createTextRange(),i.move("character",t),i.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,i,n,o;return i=this.domInputor.createTextRange(),t||(t=this.getPos()),i.move("character",t),n=i.boundingLeft,o=i.boundingTop,e=i.boundingHeight,{left:n,top:o,height:e}},e.prototype.getOffset=function(e){var i,n,o;return i=this.$inputor,r.selection?(n=this.getIEOffset(e),n.top+=t(c).scrollTop()+i.scrollTop(),n.left+=t(c).scrollLeft()+i.scrollLeft(),n):(n=i.offset(),o=this.getPosition(e),n={left:n.left+o.left-i.scrollLeft(),top:n.top+o.top-i.scrollTop(),height:o.height})},e.prototype.getPosition=function(t){var e,i,o,s,a,r,l;return e=this.$inputor,s=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),l=e.val().slice(0,t),o=e.val().slice(t),a="<span style='position: relative; display: inline;'>"+s(l)+"</span>",a+="<span id='caret' style='position: relative; display: inline;'>|</span>",a+="<span style='position: relative; display: inline;'>"+s(o)+"</span>",r=new n(e),i=r.create(a).rect()},e.prototype.getIEPosition=function(t){var e,i,n,o,s;return n=this.getIEOffset(t),i=this.$inputor.offset(),o=n.left-i.left,s=n.top-i.top,e=n.height,{left:o,top:s,height:e}},e}(),n=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,i=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,n){return e[n]=i.$inputor.css(n)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,i;return t=this.$mirror.find("#caret"),e=t.position(),i={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),i},e}(),o={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},a={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return r.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){var e;return e=this.getOffset(t)}},r=null,c=null,l=null,h=function(t){var e;return(e=null!=t?t.iframe:void 0)?(l=e,c=e.contentWindow,r=e.contentDocument||c.document):(l=void 0,c=window,r=document)},s=function(t){var e;r=t[0].ownerDocument,c=r.defaultView||r.parentWindow;try{return l=c.frameElement}catch(i){e=i}},t.fn.caret=function(n,s,r){var l;return a[n]?(t.isPlainObject(s)?(h(s),s=void 0):h(r),l=o.contentEditable(this)?new e(this):new i(this),a[n].apply(l,[s])):t.error("Method "+n+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=i,t.fn.caret.Utils=o,t.fn.caret.apis=a}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e,i;i={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},e={beforeSave:function(t){return o.arrayToDefaultHash(t)},matcher:function(t,e,i,n){var o,s,a,r,l;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i&&(t="(?:^|\\s)"+t),o=decodeURI("%C3%80"),s=decodeURI("%C3%BF"),l=n?" ":"",r=new RegExp(t+"([A-Za-z"+o+"-"+s+"0-9_"+l+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),a=r.exec(e),a?a[2]||a[1]:null},filter:function(t,e,i){var n,o,s,a;for(n=[],o=0,a=e.length;a>o;o++)s=e[o],~new String(s[i]).toLowerCase().indexOf(t.toLowerCase())&&n.push(s);return n},remoteFilter:null,sorter:function(t,e,i){var n,o,s,a;if(!t)return e;for(n=[],o=0,a=e.length;a>o;o++)s=e[o],s.atwho_order=new String(s[i]).toLowerCase().indexOf(t.toLowerCase()),s.atwho_order>-1&&n.push(s);return n.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var i,n,o;o=t;try{return"string"!=typeof t&&(o=t(e)),o.replace(/\$\{([^\}]*)\}/g,function(t,i,n){return e[i]})}catch(n){return i=n,""}},highlighter:function(t,e){var i;return e?(i=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(i,function(t,e,i,n){return"> "+e+"<strong>"+i+"</strong>"+n+" <"})):t},beforeInsert:function(t,e,i){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}};var n;n=function(){function e(e){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=t(e),this.setupRootElement(),this.listen()}return e.prototype.createContainer=function(e){var i;return null!=(i=this.$el)&&i.remove(),t(e.body).append(this.$el=t("<div class='atwho-container'></div>"))},e.prototype.setupRootElement=function(e,i){var n,o;if(null==i&&(i=!1),e)this.window=e.contentWindow,this.document=e.contentDocument||this.window.document,this.iframe=e;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(o){if(n=o,this.iframe=null,t.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},e.prototype.controller=function(t){var e,i,n,o;if(this.aliasMaps[t])i=this.controllers[this.aliasMaps[t]];else{o=this.controllers;for(n in o)if(e=o[n],n===t){i=e;break}}return i?i:this.controllers[this.currentFlag]},e.prototype.setContextFor=function(t){return this.currentFlag=t,this},e.prototype.reg=function(t,e){var i,n;return n=(i=this.controllers)[t]||(i[t]=this.$inputor.is("[contentEditable]")?new c(this,t):new a(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),n.init(e),this},e.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(e){var i;return null!=(i=t.controller())&&i.view.hide(),t.isComposing=!0,null}}(this)).on("compositionend",function(t){return function(e){return t.isComposing=!1,null}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var i;return(i=t.controller())?(i.expectedQueryCBId=null,i.view.hide(e,i.getOpt("displayTimeout"))):void 0}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(i){var n,o;return n=i.target.scrollTop,e!==n&&null!=(o=t.controller())&&o.view.hide(i),e=n,!0}}}(this)())},e.prototype.shutdown=function(){var t,e,i;i=this.controllers;for(t in i)e=i[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},e.prototype.dispatch=function(t){var e,i,n,o;n=this.controllers,o=[];for(e in n)i=n[e],o.push(i.lookUp(t));return o},e.prototype.onKeyup=function(e){var n;switch(e.keyCode){case i.ESC:e.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case i.DOWN:case i.UP:case i.CTRL:case i.ENTER:t.noop();break;case i.P:case i.N:e.ctrlKey||this.dispatch(e);break;default:this.dispatch(e)}},e.prototype.onKeydown=function(e){var n,o;if(o=null!=(n=this.controller())?n.view:void 0,o&&o.visible())switch(e.keyCode){case i.ESC:e.preventDefault(),o.hide(e);break;case i.UP:e.preventDefault(),o.prev();break;case i.DOWN:e.preventDefault(),o.next();break;case i.P:if(!e.ctrlKey)return;e.preventDefault(),o.prev();break;case i.N:if(!e.ctrlKey)return;e.preventDefault(),o.next();break;case i.TAB:case i.ENTER:case i.SPACE:if(!o.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&e.keyCode===i.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&e.keyCode===i.TAB)return;o.highlighted()?(e.preventDefault(),o.choose(e)):o.hide(e);break;default:t.noop()}},e}();var o,s=[].slice;o=function(){function i(e,i){this.app=e,this.at=i,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=t("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=t("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new d(this),this.view=new h(this)}return i.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},i.prototype.init=function(e){return this.setting=t.extend({},this.setting||t.fn.atwho["default"],e),this.view.init(),this.model.reload(this.setting.data)},i.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},i.prototype.callDefault=function(){var i,n,o,a;a=arguments[0],i=2<=arguments.length?s.call(arguments,1):[];try{return e[a].apply(this,i)}catch(o){return n=o,t.error(n+" Or maybe At.js doesn't have function "+a)}},i.prototype.trigger=function(t,e){var i,n;return null==e&&(e=[]),e.push(this),i=this.getOpt("alias"),n=i?t+"-"+i+".atwho":t+".atwho",this.$inputor.trigger(n,e)},i.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||e[t]},i.prototype.getOpt=function(t,e){var i,n;try{return this.setting[t]}catch(n){return i=n,null}},i.prototype.insertContentFor=function(e){var i,n;return n=this.getOpt("insertTpl"),i=t.extend({},e.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,i,"onInsert")},i.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},i.arrayToDefaultHash=function(e){var i,n,o,s;if(!t.isArray(e))return e;for(s=[],i=0,o=e.length;o>i;i++)n=e[i],t.isPlainObject(n)?s.push(n):s.push({name:n});return s},i.prototype.lookUp=function(t){var e,i;if((!t||"click"!==t.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(i=this.getOpt("delay"))?this._delayLookUp(e,i):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},i.prototype._delayLookUp=function(t,e){var i,n;return i=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=i),n=e-(i-this.previousCallTime),n>0&&e>n?(this.previousCallTime=i,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==i&&(this.previousCallTime=0),this._lookUp(t))},i.prototype._stopDelayedCall=function(){return this.delayedCallTimeout?(clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null):void 0},i.prototype._generateQueryCBId=function(){return{}},i.prototype._lookUp=function(e){var i;return i=function(t,e){return t===this.expectedQueryCBId?e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide():void 0},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(e.text,t.proxy(i,this,this.expectedQueryCBId))},i}();var a,r=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.catchQuery=function(){var t,e,i,n,o,s,a;return e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),a=e.slice(0,t),o=this.callbacks("matcher").call(this,this.at,a,this.getOpt("startWithSpace")),n="string"==typeof o,n&&o.length<this.getOpt("minLen",0)?void 0:(n&&o.length<=this.getOpt("maxLen",20)?(s=t-o.length,i=s+o.length,this.pos=s,o={text:o,headPos:s,endPos:i},this.trigger("matched",[this.at,o.text])):(o=null,this.view.hide()),this.query=o)},i.prototype.rect=function(){var e,i,n;if(e=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(i=t(this.app.iframe).offset(),e.left+=i.left,e.top+=i.top),n=this.app.document.selection?0:2,{left:e.left,top:e.top,bottom:e.top+e.height+n}},i.prototype.insert=function(t,e){var i,n,o,s,a;return i=this.$inputor,n=i.val(),o=n.slice(0,Math.max(this.query.headPos-this.at.length,0)),s=""===(s=this.getOpt("suffix"))?s:s||" ",t+=s,a=""+o+t+n.slice(this.query.endPos||0),i.val(a),i.caret("pos",o.length+t.length,{iframe:this.app.iframe}),i.is(":focus")||i.focus(),i.change()},i}(o);var c,r=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;c=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,e),n.prototype._getRange=function(){var t;return t=this.app.window.getSelection(),t.rangeCount>0?t.getRangeAt(0):void 0},n.prototype._setRange=function(e,i,n){return null==n&&(n=this._getRange()),n?(i=t(i)[0],"after"===e?(n.setEndAfter(i),n.setStartAfter(i)):(n.setEndBefore(i),n.setStartBefore(i)),n.collapse(!1),this._clearRange(n)):void 0},n.prototype._clearRange=function(t){var e;return null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed?(e.removeAllRanges(),e.addRange(t)):void 0},n.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===i.RIGHT||e===i.LEFT||e===i.UP||e===i.DOWN},n.prototype._unwrap=function(e){var i;return e=t(e).unwrap().get(0),(i=e.nextSibling)&&i.nodeValue&&(e.nodeValue+=i.nodeValue,t(i).remove()),e},n.prototype.catchQuery=function(e){var n,o,s,a,r,l,c,d,h,u,p,f;if((f=this._getRange())&&f.collapsed){if(e.which===i.ENTER)return(o=t(f.startContainer).closest(".atwho-query")).contents().unwrap(),o.is(":empty")&&o.remove(),(o=t(".atwho-query",this.app.document)).text(o.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(t(f.startContainer).is(this.$inputor))return void this._clearRange();e.which===i.BACKSPACE&&f.startContainer.nodeType===document.ELEMENT_NODE&&(h=f.startOffset-1)>=0?(s=f.cloneRange(),s.setStart(f.startContainer,h),t(s.cloneContents()).contents().last().is(".atwho-inserted")&&(r=t(f.startContainer).contents().get(h),this._setRange("after",t(r).contents().last()))):e.which===i.LEFT&&f.startContainer.nodeType===document.TEXT_NODE&&(n=t(f.startContainer.previousSibling),n.is(".atwho-inserted")&&0===f.startOffset&&this._setRange("after",n.contents().last()))}if(t(f.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(o=t(".atwho-query",this.app.document)).length>0&&o.is(":empty")&&0===o.text().length&&o.remove(),this._movingEvent(e)||o.removeClass("atwho-inserted"),o.length>0)switch(e.which){case i.LEFT:return this._setRange("before",o.get(0),f),void o.removeClass("atwho-query");case i.RIGHT:return this._setRange("after",o.get(0).nextSibling,f),void o.removeClass("atwho-query")}if(o.length>0&&(p=o.attr("data-atwho-at-query"))&&(o.empty().html(p).attr("data-atwho-at-query",null),this._setRange("after",o.get(0),f)),s=f.cloneRange(),s.setStart(f.startContainer,0),d=this.callbacks("matcher").call(this,this.at,s.toString(),this.getOpt("startWithSpace")),l="string"==typeof d,0===o.length&&l&&(a=f.startOffset-this.at.length-d.length)>=0&&(f.setStart(f.startContainer,a),o=t("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),f.surroundContents(o.get(0)),c=o.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(f.setStart(c,c.length),f.setEnd(c,c.length),this._clearRange(f)):this._setRange("after",c,f)),!(l&&d.length<this.getOpt("minLen",0)))return l&&d.length<=this.getOpt("maxLen",20)?(u={text:d,el:o},this.trigger("matched",[this.at,u.text]),this.query=u):(this.view.hide(),this.query={el:o},o.text().indexOf(this.at)>=0&&(this._movingEvent(e)&&o.hasClass("atwho-inserted")?o.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,o)&&this._setRange("after",this._unwrap(o.text(o.text()).contents().first()))),null)}},n.prototype.rect=function(){var e,i,n;return n=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(i=(e=t(this.app.iframe)).offset(),n.left+=i.left-this.$inputor.scrollLeft(),n.top+=i.top-this.$inputor.scrollTop()),n.bottom=n.top+this.query.el.height(),n},n.prototype.insert=function(t,e){var i,n,o,s;return this.$inputor.is(":focus")||this.$inputor.focus(),o=""===(o=this.getOpt("suffix"))?o:o||" ",i=e.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t).attr("data-atwho-at-query",""+i["atwho-at"]+this.query.text),(n=this._getRange())&&(n.setEndAfter(this.query.el[0]),n.collapse(!1),n.insertNode(s=this.app.document.createTextNode("‍"+o)),this._setRange("after",s,n)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},n}(o);var d;d=function(){function e(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return e.prototype.destroy=function(){return this.storage.data(this.at,null)},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(t,e){var i,n,o;return n=this.fetch(),o=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,t,n,o)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?e(n):i.call(this.context,t,e)},e.prototype.fetch=function(){return this.storage.data(this.at)||[]},e.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},e.prototype.load=function(t){return!this.saved()&&t?this._load(t):void 0},e.prototype.reload=function(t){return this._load(t)},e.prototype._load=function(e){return"string"==typeof e?t.ajax(e,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(e)},e}();var h;h=function(){function e(e){this.context=e,this.$el=t("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return e.prototype.init=function(){var t,e;return e=this.context.getOpt("alias")||this.context.at.charCodeAt(0),t=this.context.getOpt("headerTpl"),t&&1===this.$el.children().length&&this.$el.prepend(t),this.$el.attr({id:"at-view-"+e})},e.prototype.destroy=function(){return this.$el.remove()},e.prototype.bindEvent=function(){var e,i,n;return e=this.$el.find("ul"),i=0,n=0,e.on("mousemove.atwho-view","li",function(o){return function(o){var s;if((i!==o.clientX||n!==o.clientY)&&(i=o.clientX,n=o.clientY,s=t(o.currentTarget),!s.hasClass("cur")))return e.find(".cur").removeClass("cur"),s.addClass("cur")}}(this)).on("click.atwho-view","li",function(i){return function(n){return e.find(".cur").removeClass("cur"),t(n.currentTarget).addClass("cur"),i.choose(n),n.preventDefault()}}(this))},e.prototype.visible=function(){return this.$el.is(":visible")},e.prototype.highlighted=function(){return this.$el.find(".cur").length>0},e.prototype.choose=function(t){var e,i;return(e=this.$el.find(".cur")).length&&(i=this.context.insertContentFor(e),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,i,e,t),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix")?this.stopShowing=!0:void 0},e.prototype.reposition=function(e){var i,n,o,s;return i=this.context.app.iframeAsRoot?this.context.app.window:window,e.bottom+this.$el.height()-t(i).scrollTop()>t(i).height()&&(e.bottom=e.top-this.$el.height()),e.left>(o=t(i).width()-this.$el.width()-5)&&(e.left=o),n={left:e.left,top:e.bottom},null!=(s=this.context.callbacks("beforeReposition"))&&s.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},e.prototype.next=function(){var t,e,i,n;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),i=e[0],n=i.offsetTop+i.offsetHeight+(i.nextSibling?i.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,n-this.$el.height()))},e.prototype.prev=function(){var t,e,i,n;return t=this.$el.find(".cur").removeClass("cur"),i=t.prev(),i.length||(i=this.$el.find("li:last")),i.addClass("cur"),n=i[0],e=n.offsetTop+n.offsetHeight+(n.nextSibling?n.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,e-this.$el.height()))},e.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$elUl.animate({scrollTop:t},e):this.$elUl.scrollTop(t)},e.prototype.show=function(){var t;return this.stopShowing?void(this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},e.prototype.hide=function(t,e){var i;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(i=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(i,e))},e.prototype.render=function(e){var i,n,o,s,a,r,l;if(!(t.isArray(e)&&e.length>0))return void this.hide();for(this.$el.find("ul").empty(),n=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),o=0,a=e.length;a>o;o++)s=e[o],s=t.extend({},s,{"atwho-at":this.context.at}),r=this.context.callbacks("tplEval").call(this.context,l,s,"onDisplay"),i=t(this.context.callbacks("highlighter").call(this.context,r,this.context.query.text)),i.data("item-data",s),n.append(i);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0},e}();var u;u={load:function(t,e){var i;return(i=this.controller(t))?i.model.load(e):void 0},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;return(t=this.controller())?t.view.reposition(t.rect()):void 0},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},t.fn.atwho=function(e){var i,o;return i=arguments,o=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var s,a;return(a=(s=t(this)).data("atwho"))||s.data("atwho",a=new n(this)),"object"!=typeof e&&e?u[e]&&a?o=u[e].apply(a,Array.prototype.slice.call(i,1)):t.error("Method "+e+" does not exist on jQuery.atwho"):a.reg(e.at,e)}),null!=o?o:this},t.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:e,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},t.fn.atwho.debug=!1}),!function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(t){"use strict";function e(t,i){return void 0===document.body.style.maxHeight?null:this&&this.options===e.prototype.options?t&&t.length?(this.list=t,this.num=t.length,this.initOptions(i),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",t):new e(t,i)}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(e){var i={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},n={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},o=function(){var t,n,o=i.transition;document.body.appendChild(e),o&&(t=o.name.slice(0,-9)+"ransform",void 0!==e.style[t]&&(e.style[t]="translateZ(0)",n=window.getComputedStyle(e).getPropertyValue(o.prefix+"transform"),i.transform={prefix:o.prefix,name:t,translate:!0,translateZ:!!n&&"none"!==n})),void 0!==e.style.backgroundSize&&(i.backgroundSize={},e.style.backgroundSize="contain",i.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",i.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)};return function(t,i){var n;for(n in i)if(i.hasOwnProperty(n)&&void 0!==e.style[n]){t.transition=i[n],t.transition.name=n;break}}(i,n),document.body?o():t(document).on("DOMContentLoaded",o),i}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(t,e){window.clearTimeout(this.timeout);var i,n,o,s=this.index;if(s!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(s-t)/(s-t),this.options.continuous&&(n=i,i=-this.positions[this.circle(t)]/this.slideWidth,i!==n&&(t=-i*this.num+t)),o=Math.abs(s-t)-1;o;)o-=1,this.move(this.circle((t>s?t:s)-o-1),this.slideWidth*i,0);t=this.circle(t),this.move(s,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-(this.slideWidth*i),0)}else t=this.circle(t),this.animate(s*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass);
},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this,e=function(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,e),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,n){var o=this.slides[t].style,s=this.support.transition,a=this.support.transform;o[s.name+"Duration"]=n+"ms",o[a.name]="translate("+e+"px, "+i+"px)"+(a.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(!i)return void(this.slidesContainer[0].style.left=e+"px");var n=this,o=(new Date).getTime(),s=window.setInterval(function(){var a=(new Date).getTime()-o;return a>i?(n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(s)):void(n.slidesContainer[0].style.left=(e-t)*(Math.floor(a/i*100)/100)+t+"px")},4)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,n=e.relatedTarget;(!n||n!==i&&!t.contains(i,n))&&this.onmouseup(e)}},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n=(t.originalEvent||t).touches[0],o=(t.originalEvent||t).scale,s=this.index;if(!(n.length>1||o&&1!==o))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(s,this.touchDelta.y+this.positions[s],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(s+1),s,this.circle(s-1)]:(this.touchDelta.x=e/=!s&&e>0||s===this.num-1&&0>e?Math.abs(e)/this.slideWidth+1:1,i=[s],s&&i.push(s-1),s<this.num-1&&i.unshift(s+1));i.length;)s=i.pop(),this.translateX(s,e+this.positions[s],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n,o,s,a=this.index,r=this.options.transitionSpeed,l=this.slideWidth,c=Number(Date.now()-this.touchStart.time)<250,d=c&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>l/2,h=!a&&this.touchDelta.x>0||a===this.num-1&&this.touchDelta.x<0,u=!d&&this.options.closeOnSwipeUpOrDown&&(c&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(h=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?u?this.close():this.translateY(a,0,r):d&&!h?(i=a+e,n=a-e,o=l*e,s=-l*e,this.options.continuous?(this.move(this.circle(i),o,0),this.move(this.circle(a-2*e),s,0)):i>=0&&i<this.num&&this.move(i,o,0),this.move(a,this.positions[a]+o,r),this.move(this.circle(n),this.positions[this.circle(n)]+o,r),a=this.circle(n),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-l,r),this.move(a,0,r),this.move(this.circle(a+1),l,r)):(a&&this.move(a-1,-l,r),this.move(a,0,r),a<this.num-1&&this.move(a+1,l,r))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,n=e.target||e.srcElement,o=n&&n.parentNode;n&&o&&(i=this.getNodeIndex(o),t(o).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(o).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===o&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,o]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){var i=this.options,n=e.target||e.srcElement,o=n.parentNode,s=function(e){return t(n).hasClass(e)||t(o).hasClass(e)};s(i.toggleClass)?(this.preventDefault(e),this.toggleControls()):s(i.prevClass)?(this.preventDefault(e),this.prev()):s(i.nextClass)?(this.preventDefault(e),this.next()):s(i.closeClass)?(this.preventDefault(e),this.close()):s(i.playPauseClass)?(this.preventDefault(e),this.toggleSlideshow()):o===this.slidesContainer[0]?(this.preventDefault(e),i.closeOnSlideClick?this.close():this.toggleControls()):o.parentNode&&o.parentNode===this.slidesContainer[0]&&(this.preventDefault(e),this.toggleControls())},onclick:function(t){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(t)},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var n=this;return t&&window.setTimeout(function(){t.apply(n,e||[])},i||0)},imageFactory:function(e,i){var n,o,s,a=this,r=this.imagePrototype.cloneNode(!1),l=e,c=this.options.stretchImages,d=function(e){if(!n){if(e={type:e.type,target:o},!o.parentNode)return a.setTimeout(d,[e]);n=!0,t(r).off("load error",d),c&&"load"===e.type&&(o.style.background='url("'+l+'") center no-repeat',o.style.backgroundSize=c),i(e)}};return"string"!=typeof l&&(l=this.getItemProperty(e,this.options.urlProperty),s=this.getItemProperty(e,this.options.titleProperty)),c===!0&&(c="contain"),c=this.support.backgroundSize&&this.support.backgroundSize[c]&&c,c?o=this.elementPrototype.cloneNode(!1):(o=r,r.draggable=!1),s&&(o.title=s),t(r).on("load error",d),r.src=l,o},createElement:function(e,i){var n=e&&this.getItemProperty(e,this.options.typeProperty),o=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,s=e&&o.call(this,e,i);return s||(s=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:s}])),t(s).addClass(this.options.slideContentClass),s},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),n=t;for(e=0;i>e;e+=1)n+=e*(e%2===0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(t){var e,i,n;for(e in this.elements)this.elements.hasOwnProperty(e)&&(n=Math.abs(t-e),n>this.options.preloadRange&&n+this.options.preloadRange<this.num&&(i=this.slides[e],i.removeChild(i.firstChild),delete this.elements[e]))},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transform&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,n;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,n,o,s){var a=s||i||n||o&&parseInt(o,10);e&&t&&(t=t[a])}),t},getDataProperty:function(e,i){if(e.getAttribute){var n=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof n){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(n))try{return t.parseJSON(n)}catch(o){}return n}}},getItemProperty:function(t,e){var i=t[e];return void 0===i&&(i=this.getDataProperty(t,e),void 0===i&&(i=this.getNestedProperty(t,e))),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){var e=this,i=this.slidesContainer,n=function(t){var i=e.support.transition&&e.support.transition.end===t.type?"transitionend":t.type;e["on"+i](t)};t(window).on("resize",n),t(document.body).on("keydown",n),this.container.on("click",n),this.support.touch?i.on("touchstart touchmove touchend touchcancel",n):this.options.emulateTouchEvents&&this.support.transition&&i.on("mousedown mousemove mouseup mouseout",n),this.support.transition&&i.on(this.support.transition.end,n),this.proxyListener=n},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this,i=function(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleOpen())};return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,i):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||e.carousel!==!1))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{fullScreen:!1});var i=e.prototype.initialize,n=e.prototype.close;return t.extend(e.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=e.prototype.initSlides,n=e.prototype.addSlide,o=e.prototype.resetSlides,s=e.prototype.handleClick,a=e.prototype.handleSlide,r=e.prototype.handleClose;return t.extend(e.prototype,{createIndicator:function(e){var i,n,o=this.indicatorPrototype.cloneNode(!1),s=this.getItemProperty(e,this.options.titleProperty),a=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(n=e.getElementsByTagName&&t(e).find("img")[0],n?i=n.src:a&&(i=this.getItemProperty(e,a)),i&&(o.style.backgroundImage='url("'+i+'")')),s&&(o.title=s),o},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){n.call(this,t),this.addIndicator(t)},resetSlides:function(){o.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return s.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t){a.call(this,t),this.setActiveIndicator(t)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),r.call(this)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var i=e.prototype.handleSlide;return t.extend(e.prototype,{handleSlide:function(t){i.call(this,t),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(e,i,n){var o,s,a,r,l,c=this,d=this.options,h=this.elementPrototype.cloneNode(!1),u=t(h),p=[{type:"error",target:h}],f=n||document.createElement("video"),m=this.getItemProperty(e,d.urlProperty),v=this.getItemProperty(e,d.typeProperty),g=this.getItemProperty(e,d.titleProperty),y=this.getItemProperty(e,d.videoPosterProperty),b=this.getItemProperty(e,d.videoSourcesProperty);if(u.addClass(d.videoContentClass),g&&(h.title=g),f.canPlayType)if(m&&v&&f.canPlayType(v))f.src=m;else for(;b&&b.length;)if(s=b.shift(),m=this.getItemProperty(s,d.urlProperty),v=this.getItemProperty(s,d.typeProperty),m&&v&&f.canPlayType(v)){f.src=m;break}return y&&(f.poster=y,o=this.imagePrototype.cloneNode(!1),t(o).addClass(d.toggleClass),o.src=y,o.draggable=!1,h.appendChild(o)),a=document.createElement("a"),a.setAttribute("target","_blank"),n||a.setAttribute("download",g),a.href=m,f.src&&(f.controls=!0,(n||t(f)).on("error",function(){c.setTimeout(i,p)}).on("pause",function(){r=!1,u.removeClass(c.options.videoLoadingClass).removeClass(c.options.videoPlayingClass),l&&c.container.addClass(c.options.controlsClass),delete c.playingVideo,c.interval&&c.play()}).on("playing",function(){r=!1,u.removeClass(c.options.videoLoadingClass).addClass(c.options.videoPlayingClass),c.container.hasClass(c.options.controlsClass)?(l=!0,c.container.removeClass(c.options.controlsClass)):l=!1}).on("play",function(){window.clearTimeout(c.timeout),r=!0,u.addClass(c.options.videoLoadingClass),c.playingVideo=f}),t(a).on("click",function(t){c.preventDefault(t),r?f.pause():f.play()}),h.appendChild(n&&n.element||f)),h.appendChild(a),this.setTimeout(i,[{type:"load",target:h}]),h}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";if(!window.postMessage)return e;t.extend(e.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var i=e.prototype.textFactory||e.prototype.imageFactory,n=function(t,e,i,n){this.url=t,this.videoId=e,this.playerId=i,this.clickToPlay=n,this.element=document.createElement("div"),this.listeners={}},o=0;return t.extend(n.prototype,{canPlayType:function(){return!0},on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){for(var e,i,n=this,o="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",s=document.getElementsByTagName("script"),a=s.length,r=function(){!i&&n.playOnReady&&n.play(),i=!0};a;)if(a-=1,s[a].src===o){e=s[a];break}e||(e=document.createElement("script"),e.src=o),t(e).on("load",r),s[0].parentNode.insertBefore(e,s[0]),/loaded|complete/.test(e.readyState)&&r()},onReady:function(){var t=this;this.ready=!0,this.player.addEvent("play",function(){t.hasPlayed=!0,t.onPlaying()}),this.player.addEvent("pause",function(){t.onPause()}),this.player.addEvent("finish",function(){t.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var t=document.createElement("iframe");t.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),t.id=this.playerId,this.element.parentNode.replaceChild(t,this.element),this.element=t},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){t.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(e.prototype,{VimeoPlayer:n,textFactory:function(t,e){var s=this.options,a=this.getItemProperty(t,s.vimeoVideoIdProperty);return a?(void 0===this.getItemProperty(t,s.urlProperty)&&(t[s.urlProperty]="//vimeo.com/"+a),o+=1,this.videoFactory(t,e,new n(s.vimeoPlayerUrl,a,s.vimeoPlayerIdPrefix+o,s.vimeoClickToPlay))):i.call(this,t,e)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";if(!window.postMessage)return e;t.extend(e.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var i=e.prototype.textFactory||e.prototype.imageFactory,n=function(t,e,i){this.videoId=t,this.playerVars=e,this.clickToPlay=i,this.element=document.createElement("div"),this.listeners={}};return t.extend(n.prototype,{canPlayType:function(){return!0},on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){var t,e=this,i=window.onYouTubeIframeAPIReady,n="//www.youtube.com/iframe_api",o=document.getElementsByTagName("script"),s=o.length;for(window.onYouTubeIframeAPIReady=function(){i&&i.apply(this),e.playOnReady&&e.play()};s;)if(s-=1,o[s].src===n)return;t=document.createElement("script"),t.src=n,o[0].parentNode.insertBefore(t,o[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){e.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)&&(this.listeners.pause(),delete this.playStatus)},onStateChange:function(t){switch(t.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=t.data},onError:function(t){this.listeners.error(t)},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){t.onReady()},onStateChange:function(e){t.onStateChange(e)},onError:function(e){t.onError(e)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(e.prototype,{YouTubePlayer:n,textFactory:function(t,e){var o=this.options,s=this.getItemProperty(t,o.youTubeVideoIdProperty);return s?(void 0===this.getItemProperty(t,o.urlProperty)&&(t[o.urlProperty]="//www.youtube.com/watch?v="+s),void 0===this.getItemProperty(t,o.videoPosterProperty)&&(t[o.videoPosterProperty]="//img.youtube.com/vi/"+s+"/maxresdefault.jpg"),this.videoFactory(t,e,new n(s,o.youTubePlayerVars,o.youTubeClickToPlay))):i.call(this,t,e)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],t):t(window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t(document).on("click","[data-gallery]",function(i){var n=t(this).data("gallery"),o=t(n),s=o.length&&o||t(e.prototype.options.container),a={onopen:function(){s.data("gallery",this).trigger("open")},onopened:function(){s.trigger("opened")},onslide:function(){s.trigger("slide",arguments)},onslideend:function(){s.trigger("slideend",arguments)},onslidecomplete:function(){s.trigger("slidecomplete",arguments)},onclose:function(){s.trigger("close")},onclosed:function(){s.trigger("closed").removeData("gallery")}},r=t.extend(s.data(),{container:s[0],index:this,event:i},a),l=t('[data-gallery="'+n+'"]');return r.filter&&(l=l.filter(r.filter)),new e(l,r)})}),function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function o(t){return function(){return this[t].apply(this,arguments)}}function s(e,i){function n(t,e){return e.toLowerCase()}var o,s=t(e).data(),a={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(o=l.replace(r,n),a[o]=s[l]);return a}function a(e){var i={};if(f[e]||(e=e.split("-")[0],f[e])){var n=f[e];return t.each(p,function(t,e){e in n&&(i[e]=n[e])}),i}}var r=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),c=function(e,i){this.dates=new l,this.viewDate=n(),this.focusDate=null,this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),n=i.language;switch(f[n]||(n=n.split("-")[0],f[n]||(n=u.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=m.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=m.parseDate(i.startDate,o,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=m.parseDate(i.endDate,o,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var s=String(i.orientation).toLowerCase().split(/\s+/g),a=i.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===s.length)switch(s[0]){case"top":case"bottom":i.orientation.y=s[0];break;case"left":case"right":i.orientation.x=s[0]}else a=t.grep(s,function(t){return/^left|right$/.test(t)}),i.orientation.x=a[0]||"auto",a=t.grep(s,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=a[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,o,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(n=e,o=t[s][1]):3===t[s].length&&(n=t[s][1],o=t[s][2]),i.on(o,n)},_unapplyEvents:function(t){for(var i,n,o,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(o=e,n=t[s][1]):3===t[s].length&&(o=t[s][1],n=t[s][2]),i.off(n,o)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide();
},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),o=this._utc_to_local(n);this.element.trigger({type:e,date:o,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,o=r.width(),s=r.height(),a=r.scrollTop(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var c=Math.max.apply(Math,l)+10,d=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left,f=d.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-u)):(this.picker.addClass("datepicker-orient-left"),d.left<0?p-=d.left-n:d.left+e>o&&(p=o-e-n));var m,v,g=this.o.orientation.y;"auto"===g&&(m=-a+d.top-i,v=a+s-(d.top+h+i),g=Math.max(m,v)===v?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f+=h:f-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:p,zIndex:c})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],n=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<o?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>o)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,o=new Date(this.viewDate),s=o.getUTCFullYear(),a=o.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=f[this.o.language].today||f.en.today||"",u=f[this.o.language].clear||f.en.clear||"";if(!isNaN(s)&&!isNaN(a)){this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[a]+" "+s),this.picker.find("tfoot th.today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=i(s,a-1,28),v=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(v),p.setUTCDate(v-(p.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var y,b=[];p.valueOf()<g;){if(p.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),C=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),x=new Date(Number(x=i(C.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),k=(C-x)/864e5/7+1;b.push('<td class="cw">'+k+"</td>")}if(y=this.getClassNames(p),y.push("day"),this.o.beforeShowDay!==t.noop){var S=this.o.beforeShowDay(this._utc_to_local(p));S===e?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),S.enabled===!1&&y.push("disabled"),S.classes&&(y=y.concat(S.classes.split(/\s+/))),S.tooltip&&(n=S.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+p.getUTCDate()+"</td>"),n=null,p.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&T.eq(e.getUTCMonth()).addClass("active")}),(r>s||s>c)&&T.addClass("disabled"),s===r&&T.slice(0,l).addClass("disabled"),s===c&&T.slice(d+1).addClass("disabled"),b="",s=10*parseInt(s/10,10);var D=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var E,$=t.map(this.dates,function(t){return t.getUTCFullYear()}),I=-1;11>I;I++)E=["year"],-1===I?E.push("old"):10===I&&E.push("new"),-1!==t.inArray(s,$)&&E.push("active"),(r>s||s>c)&&E.push("disabled"),b+='<span class="'+E.join(" ")+'">'+s+"</span>",s+=1;D.html(b)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var n,o,s,a=t(e.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=m.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":a.is(".disabled")||(this.viewDate.setUTCDate(1),a.is(".month")?(s=1,o=a.parent().find("span").index(a),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,o,s))):(s=1,o=0,n=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,o,s))),this.showMode(-1),this.fill());break;case"td":a.is(".day")&&!a.is(".disabled")&&(s=parseInt(a.text(),10)||1,n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a.is(".old")?0===o?(o=11,n-=1):o-=1:a.is(".new")&&(11===o?(o=0,n+=1):o+=1),this._setDate(i(n,o,s)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),1===this.o.multidate&&0===e||(-1!==e?this.dates.remove(e):this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var n,o,s=new Date(t.valueOf()),a=s.getUTCDate(),r=s.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)o=-1===i?function(){return s.getUTCMonth()===r}:function(){return s.getUTCMonth()!==n},n=r+i,s.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var c=0;l>c;c++)s=this.moveMonth(s,i);n=s.getUTCMonth(),s.setUTCDate(a),o=function(){return n!==s.getUTCMonth()}}for(;o();)s.setUTCDate(--a),s.setUTCMonth(n);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,i,o,s=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),o=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),o=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+e),o=new Date(a),o.setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),o=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),o=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*e),o=new Date(a),o.setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),s=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(s){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var d=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),n=i.getUTCDate(),o=t.inArray(e.target,this.inputs),s=this.inputs.length;if(-1!==o){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[o])for(;o>=0&&n<this.dates[o];)this.pickers[o--].setUTCDate(n);else if(n>this.dates[o])for(;s>o&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker;t.fn.datepicker=function(i){var n=Array.apply(null,arguments);n.shift();var o;return this.each(function(){var r=t(this),l=r.data("datepicker"),h="object"==typeof i&&i;if(!l){var p=s(this,"date"),f=t.extend({},u,p,h),m=a(f.language),v=t.extend({},u,m,p,h);if(r.is(".input-daterange")||v.inputs){var g={inputs:v.inputs||r.find("input").toArray()};r.data("datepicker",l=new d(this,t.extend(v,g)))}else r.data("datepicker",l=new c(this,v))}return"string"==typeof i&&"function"==typeof l[i]&&(o=l[i].apply(l,n),o!==e)?!1:void 0}),o!==e?o:this};var u=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(n,o,s){function a(){var t=this.slice(0,u[d].length),e=u[d].slice(0,t.length);return t===e}if(!n)return e;if(n instanceof Date)return n;"string"==typeof o&&(o=m.parseFormat(o));var r,l,d,h=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,d=0;d<u.length;d++)switch(r=h.exec(u[d]),l=parseInt(r[1]),r[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=c.prototype.moveMonth.call(c.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=c.prototype.moveYear.call(c.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}u=n&&n.match(this.nonpunctuation)||[],n=new Date;var p,v,g={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var w=o.parts.slice();if(u.length!==w.length&&(w=t(w).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),u.length===w.length){var C;for(d=0,C=w.length;C>d;d++){if(p=parseInt(u[d],10),r=w[d],isNaN(p))switch(r){case"MM":v=t(f[s].months).filter(a),p=t.inArray(v[0],f[s].months)+1;break;case"M":v=t(f[s].monthsShort).filter(a),p=t.inArray(v[0],f[s].monthsShort)+1}g[r]=p}var x,k;for(d=0;d<y.length;d++)k=y[d],k in g&&!isNaN(g[k])&&(x=new Date(n),b[k](x,g[k]),isNaN(x)||(n=x))}return n},formatDate:function(e,i,n){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var o={d:e.getUTCDate(),D:f[n].daysShort[e.getUTCDay()],DD:f[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[n].monthsShort[e.getUTCMonth()],MM:f[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var s=t.extend([],i.separators),a=0,r=i.parts.length;r>=a;a++)s.length&&e.push(s.shift()),e.push(o[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){"use strict";function e(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function i(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),o=new RegExp(i,"g"),s=null==t?"":""+t;return n.test(s)?s.replace(o,function(t){return e[t]}):s}function n(e,i){var n=arguments,s=e,a=i;[].shift.apply(n);var r,l=this.each(function(){var e=t(this);if(e.is("select")){var i=e.data("selectpicker"),l="object"==typeof s&&s;if(i){if(l)for(var c in l)l.hasOwnProperty(c)&&(i.options[c]=l[c])}else{var d=t.extend({},o.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),l);d.template=t.extend({},o.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,l.template),e.data("selectpicker",i=new o(this,d,a))}"string"==typeof s&&(r=i[s]instanceof Function?i[s].apply(i,n):i.options[s])}});return"undefined"!=typeof r?r:l}String.prototype.includes||!function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(n){}return i}(),i="".indexOf,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var o=n.length,s=String(e),a=s.length,r=arguments.length>1?arguments[1]:void 0,l=r?Number(r):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),o);return a+c>o?!1:-1!=i.call(n,s,l)};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||!function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(n){}return i}(),e={}.toString,i=function(t){if(null==this)throw new TypeError;var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var n=i.length,o=String(t),s=o.length,a=arguments.length>1?arguments[1]:void 0,r=a?Number(a):0;r!=r&&(r=0);var l=Math.min(Math.max(r,0),n);if(s+l>n)return!1;for(var c=-1;++c<s;)if(i.charCodeAt(l+c)!=o.charCodeAt(c))return!1;return!0};t?t(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i}),t.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),i.dispatchEvent(e)):(i.fireEvent&&(e=document.createEventObject(),e.eventType=t,i.fireEvent("on"+t,e)),this.trigger(t))},t.expr[":"].icontains=function(e,i,n){var o=t(e),s=(o.data("tokens")||o.text()).toUpperCase();return s.includes(n[3].toUpperCase())},t.expr[":"].ibegins=function(e,i,n){var o=t(e),s=(o.data("tokens")||o.text()).toUpperCase();return s.startsWith(n[3].toUpperCase())},t.expr[":"].aicontains=function(e,i,n){var o=t(e),s=(o.data("tokens")||o.data("normalizedText")||o.text()).toUpperCase();return s.includes(n[3].toUpperCase())},t.expr[":"].aibegins=function(e,i,n){var o=t(e),s=(o.data("tokens")||o.data("normalizedText")||o.text()).toUpperCase();return s.startsWith(n[3].toUpperCase())};var o=function(e,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=o.prototype.val,this.render=o.prototype.render,this.refresh=o.prototype.refresh,this.setStyle=o.prototype.setStyle,this.selectAll=o.prototype.selectAll,this.deselectAll=o.prototype.deselectAll,this.destroy=o.prototype.destroy,this.remove=o.prototype.remove,this.show=o.prototype.show,this.hide=o.prototype.hide,this.init()};o.VERSION="1.9.3",o.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},o.prototype={constructor:o,init:function(){var e=this,i=this.$element.attr("id");this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",o=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+"></div>":"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+o+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+s+a+r+'<ul class="dropdown-menu inner" role="menu"></ul>'+l+"</div></div>";return t(c)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,o=[],s=0,a=document.createElement("option"),r=-1,l=function(t,e,i,n){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof e&null!==e?' data-original-index="'+e+'"':"")+("undefined"!=typeof n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},c=function(t,o,s,a){return'<a tabindex="0"'+("undefined"!=typeof o?' class="'+o+'"':"")+("undefined"!=typeof s?' style="'+s+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+e(i(t))+'"':"")+("undefined"!=typeof a||null!==a?' data-tokens="'+a+'"':"")+">"+t+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(r--,!this.$element.find(".bs-title-option").length)){var d=this.$element[0];a.className="bs-title-option",a.appendChild(document.createTextNode(this.options.title)),a.value="",d.insertBefore(a,d.firstChild),void 0===t(d.options[d.selectedIndex]).attr("selected")&&(a.selected=!0)}return this.$element.find("option").each(function(e){var i=t(this);if(r++,!i.hasClass("bs-title-option")){var a=this.className||"",d=this.style.cssText,h=i.data("content")?i.data("content"):i.html(),u=i.data("tokens")?i.data("tokens"):null,p="undefined"!=typeof i.data("subtext")?'<small class="text-muted">'+i.data("subtext")+"</small>":"",f="undefined"!=typeof i.data("icon")?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",m=this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled;if(""!==f&&m&&(f="<span>"+f+"</span>"),n.options.hideDisabled&&m)return void r--;if(i.data("content")||(h=f+'<span class="text">'+h+p+"</span>"),"OPTGROUP"===this.parentNode.tagName&&i.data("divider")!==!0){var v=" "+this.parentNode.className||"";if(0===i.index()){s+=1;var g=this.parentNode.label,y="undefined"!=typeof i.parent().data("subtext")?'<small class="text-muted">'+i.parent().data("subtext")+"</small>":"",b=i.parent().data("icon")?'<span class="'+n.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"";
g=b+'<span class="text">'+g+y+"</span>",0!==e&&o.length>0&&(r++,o.push(l("",null,"divider",s+"div"))),r++,o.push(l(g,null,"dropdown-header"+v,s))}o.push(l(c(h,"opt "+a+v,d,u),e,"",s))}else i.data("divider")===!0?o.push(l("",e,"divider")):i.data("hidden")===!0?o.push(l(c(h,a,d,u),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(r++,o.push(l("",null,"divider",s+"div"))),o.push(l(c(h,a,d,u),e)));n.liObj[e]=r}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),o.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this;e!==!1&&this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.tabIndex();var o=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,i=t(this),o=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"","undefined"!=typeof i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content"):o+i.html()+e}}).toArray(),s=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&o.length>a[1]||1==a.length&&o.length>=2){i=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,r):this.options.countSelectedText;s=l.replace("{0}",o.length.toString()).replace("{1}",r.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(s=this.options.title),s||(s="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",t.trim(s.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(s),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||this.options.size!==!1&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),r=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",o.className="dropdown-menu inner",s.className="divider",l.appendChild(document.createTextNode("Inner text")),r.appendChild(l),a.appendChild(r),o.appendChild(a),o.appendChild(s),c&&n.appendChild(c),d){var p=document.createElement("span");d.className="bs-searchbox",p.className="form-control",d.appendChild(p),n.appendChild(d)}h&&n.appendChild(h),n.appendChild(o),u&&n.appendChild(u),i.appendChild(n),document.body.appendChild(i);var f=r.offsetHeight,m=c?c.offsetHeight:0,v=d?d.offsetHeight:0,g=h?h.offsetHeight:0,y=u?u.offsetHeight:0,b=t(s).outerHeight(!0),w="function"==typeof getComputedStyle?getComputedStyle(n):!1,C=w?null:t(n),x=parseInt(w?w.paddingTop:C.css("paddingTop"))+parseInt(w?w.paddingBottom:C.css("paddingBottom"))+parseInt(w?w.borderTopWidth:C.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:C.css("borderBottomWidth")),k=x+parseInt(w?w.marginTop:C.css("marginTop"))+parseInt(w?w.marginBottom:C.css("marginBottom"))+2;document.body.removeChild(i),this.sizeInfo={liHeight:f,headerHeight:m,searchHeight:v,actionsHeight:g,doneButtonHeight:y,dividerHeight:b,menuPadding:x,menuExtras:k}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var e,i,n,o,s=this,a=this.$menu,r=this.$menuInner,l=t(window),c=this.$newElement[0].offsetHeight,d=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,u=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,v=this.sizeInfo.menuPadding,g=this.sizeInfo.menuExtras,y=this.options.hideDisabled?".disabled":"",b=function(){n=s.$newElement.offset().top-l.scrollTop(),o=l.height()-n-c};if(b(),"auto"===this.options.size){var w=function(){var l,c=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},m=s.$menuInner[0].getElementsByTagName("li"),y=Array.prototype.filter?Array.prototype.filter.call(m,c("hidden",!1)):s.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(y,c("dropdown-header",!0)):y.filter(".dropdown-header");b(),e=o-g,s.options.container?(a.data("height")||a.data("height",a.height()),i=a.data("height")):i=a.height(),s.options.dropupAuto&&s.$newElement.toggleClass("dropup",n>o&&i>e-g),s.$newElement.hasClass("dropup")&&(e=n-g),l=y.length+w.length>3?3*d+g-2:0,a.css({"max-height":e+"px",overflow:"hidden","min-height":l+h+u+p+f+"px"}),r.css({"max-height":e-h-u-p-f-v+"px","overflow-y":"auto","min-height":Math.max(l-v,0)+"px"})};w(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w),l.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(y).length>this.options.size){var C=this.$lis.not(".divider").not(y).children().slice(0,this.options.size).last().parent().index(),x=this.$lis.slice(0,C+1).filter(".divider").length;e=d*this.options.size+x*m+v,s.options.container?(a.data("height")||a.data("height",a.height()),i=a.data("height")):i=a.height(),s.options.dropupAuto&&this.$newElement.toggleClass("dropup",n>o&&i>e-g),a.css({"max-height":e+h+u+p+f+"px",overflow:"hidden","min-height":""}),r.css({"max-height":e-v+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,i,n=this,o=function(t){n.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,n.$bsContainer.css({top:e.top+i,left:e.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);n.isDisabled()||(o(n.$newElement),n.$bsContainer.appendTo(n.options.container).toggleClass("open",!e.hasClass("open")).append(n.$menu))}),t(window).on("resize scroll",function(){o(n.$newElement)}),this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height()),n.$bsContainer.detach()})},setSelected:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,i=t(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize(),e.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||e.options.size===!1)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()})}),this.$menuInner.on("click","li a",function(i){var n=t(this),o=n.parent().data("originalIndex"),s=e.$element.val(),a=e.$element.prop("selectedIndex");if(e.multiple&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var r=e.$element.find("option"),l=r.eq(o),c=l.prop("selected"),d=l.parent("optgroup"),h=e.options.maxOptions,u=d.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!c),e.setSelected(o,!c),n.blur(),h!==!1||u!==!1){var p=h<r.filter(":selected").length,f=u<d.find("option:selected").length;if(h&&p||u&&f)if(h&&1==h)r.prop("selected",!1),l.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(o,!0);else if(u&&1==u){d.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=n.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+m+'"]').removeClass("selected"),e.setSelected(o,!0)}else{var v="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(h,u):e.options.maxOptionsText,g=v[0].replace("{n}",h),y=v[1].replace("{n}",u),b=t('<div class="notify"></div>');v[2]&&(g=g.replace("{var}",v[2][h>1?0:1]),y=y.replace("{var}",v[2][u>1?0:1])),l.prop("selected",!1),e.$menu.append(b),h&&p&&(b.append(t("<div>"+g+"</div>")),e.$element.trigger("maxReached.bs.select")),u&&f&&(b.append(t("<div>"+y+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(o,!1)},10),b.delay(750).fadeOut(300,function(){t(this).remove()})}}}else r.prop("selected",!1),l.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(o,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(s!=e.$element.val()&&e.multiple||a!=e.$element.prop("selectedIndex")&&!e.multiple)&&(e.$element.triggerNative("change"),e.$element.trigger("changed.bs.select",[o,l.prop("selected"),c]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll(),e.$element.triggerNative("change")}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var n=this,o=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var s=n.$lis.not(".is-hidden").removeClass("hidden").children("a");s=n.options.liveSearchNormalize?s.not(":a"+n._searchStyle()+'("'+e(n.$searchbox.val())+'")'):s.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")'),s.parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var e=t(this),i=e.data("optgroup");0===n.$lis.filter("[data-optgroup="+i+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden"))});var a=n.$lis.not(".hidden");a.each(function(e){var i=t(this);i.hasClass("divider")&&(i.index()===a.first().index()||i.index()===a.last().index()||a.eq(e+1).hasClass("divider"))&&i.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?o.parent().length&&o.remove():(o.parent().length&&o.remove(),o.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show(),n.$menuInner.append(o))}else n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove();n.$lis.filter(".active").removeClass("active"),n.$searchbox.val()&&n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),t(this).focus()})},_searchStyle:function(){var t={begins:"ibegins",startsWith:"ibegins"};return t[this.options.liveSearchStyle]||"icontains"},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){"undefined"==typeof e&&(e=!0),this.findLis();for(var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",e),o=n.length,s=[],a=0;o>a;a++){var r=n[a].getAttribute("data-original-index");s[s.length]=i.eq(r)[0]}t(s).prop("selected",e),this.render(!1)},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},keydown:function(i){var n,o,s,a,r,l,c,d,h,u=t(this),p=u.is("input")?u.parent().parent():u.parent(),f=p.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",v={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=u.parent().parent()),f.options.container&&(p=f.$menu),n=t("[role=menu] li",p),h=f.$newElement.hasClass("open"),!h&&(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||i.keyCode>=65&&i.keyCode<=90)&&(f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),h=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&h&&0===f.$menu.find(".active").length&&(i.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),n=t("[role=menu] li"+m,p),u.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$menuInner.find("li"),n=f.options.liveSearchNormalize?n.filter(":a"+f._searchStyle()+"("+e(v[i.keyCode])+")"):n.filter(":"+f._searchStyle()+"("+v[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))o=n.index(n.find("a").filter(":focus").parent()),a=n.filter(m).first().index(),r=n.filter(m).last().index(),s=n.eq(o).nextAll(m).eq(0).index(),l=n.eq(o).prevAll(m).eq(0).index(),c=n.eq(s).prevAll(m).eq(0).index(),f.options.liveSearch&&(n.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),o=n.index(n.filter(".active")),a=n.first().data("index"),r=n.last().data("index"),s=n.eq(o).nextAll().eq(0).data("index"),l=n.eq(o).prevAll().eq(0).data("index"),c=n.eq(s).prevAll().eq(0).data("index")),d=u.data("prevIndex"),38==i.keyCode?(f.options.liveSearch&&o--,o!=c&&o>l&&(o=l),a>o&&(o=a),o==d&&(o=r)):40==i.keyCode&&(f.options.liveSearch&&o++,-1==o&&(o=0),o!=c&&s>o&&(o=s),o>r&&(o=r),o==d&&(o=a)),u.data("prevIndex",o),f.options.liveSearch?(i.preventDefault(),u.hasClass("dropdown-toggle")||(n.removeClass("active").eq(o).addClass("active").children("a").focus(),u.focus())):n.eq(o).children("a").focus();else if(!u.is("input")){var g,y,b=[];n.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==v[i.keyCode]&&b.push(t(this).index())}),g=t(document).data("keycount"),g++,t(document).data("keycount",g),y=t.trim(t(":focus").text().toLowerCase()).substring(0,1),y!=v[i.keyCode]?(g=1,t(document).data("keycount",g)):g>=b.length&&(t(document).data("keycount",0),g>b.length&&(g=1)),n.eq(b[g-1]).children("a").focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&f.options.selectOnTab)&&h){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),f.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),u.focus());else{var w=t(":focus");w.click(),w.focus(),i.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&h&&(f.multiple||f.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!h)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var s=t.fn.selectpicker;t.fn.selectpicker=n,t.fn.selectpicker.Constructor=o,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=s,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',o.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),!function(t){"use strict";function e(e,i){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=i&&i.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container);var n=(this.inputSize<3?3:this.inputSize)+"em";this.$input.get(0).style.cssText="width: "+n+" !important;",this.build(i)}function i(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function n(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}function o(t){return t?l.text(t).html():""}function s(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function a(e,i){var n=!1;return t.each(i,function(t,i){if("number"==typeof i&&e.which===i)return n=!0,!1;if(e.which===i.which){var o=!i.hasOwnProperty("altKey")||e.altKey===i.altKey,s=!i.hasOwnProperty("shiftKey")||e.shiftKey===i.shiftKey,a=!i.hasOwnProperty("ctrlKey")||e.ctrlKey===i.ctrlKey;if(o&&s&&a)return n=!0,!1}}),n}var r={tagClass:function(){return"label label-primary"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};e.prototype={constructor:e,add:function(e,i){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags||e!==!1&&!e)){if("string"==typeof e&&n.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&n.itemsArray.length>0&&n.remove(n.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var s=e.split(",");if(s.length>1){for(var a=0;a<s.length;a++)this.add(s[a],!0);return void(i||n.pushVal())}}var r=n.options.itemValue(e),l=n.options.itemText(e),c=n.options.tagClass(e),d=t.grep(n.itemsArray,function(t){return n.options.itemValue(t)===r})[0];if(!d||n.options.allowDuplicates){if(!(n.items().toString().length+e.length+1>n.options.maxInputLength)){var h=t.Event("beforeItemAdd",{item:e,cancel:!1});if(n.$element.trigger(h),!h.cancel){n.itemsArray.push(e);var u=t('<span class="tag '+o(c)+'">'+o(l)+'<span data-role="remove"></span></span>');if(u.data("item",e),n.findInputWrapper().before(u),u.after(" "),n.isSelect&&!t('option[value="'+encodeURIComponent(r)+'"]',n.$element)[0]){var p=t("<option selected>"+o(l)+"</option>");p.data("item",e),p.attr("value",r),n.$element.append(p)}i||n.pushVal(),(n.options.maxTags===n.itemsArray.length||n.items().toString().length===n.options.maxInputLength)&&n.$container.addClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemAdded",{item:e}))}}}else if(n.options.onTagExists){var f=t(".tag",n.$container).filter(function(){return t(this).data("item")===d});n.options.onTagExists(e,f)}}}},remove:function(e,i){var n=this;if(n.objectItems&&(e="object"==typeof e?t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)}):t.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e}),e=e[e.length-1]),e){var o=t.Event("beforeItemRemove",{item:e,cancel:!1});if(n.$element.trigger(o),o.cancel)return;t(".tag",n.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",n.$element).filter(function(){return t(this).data("item")===e}).remove(),-1!==t.inArray(e,n.itemsArray)&&n.itemsArray.splice(t.inArray(e,n.itemsArray),1)}i||n.pushVal(),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(t.Event("itemRemoved",{item:e}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var i=t(this),n=i.data("item"),s=e.options.itemValue(n),a=e.options.itemText(n),r=e.options.tagClass(n);if(i.attr("class",null),i.addClass("tag "+o(r)),i.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=o(a),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===n});l.attr("value",s)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,i=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(i,!0).trigger("change")},build:function(e){var o=this;if(o.options=t.extend({},r,e),o.objectItems&&(o.options.freeInput=!1),i(o.options,"itemValue"),i(o.options,"itemText"),n(o.options,"tagClass"),o.options.typeahead){var l=o.options.typeahead||{};n(l,"source"),o.$input.typeahead(t.extend({},l,{source:function(e,i){function n(t){for(var e=[],n=0;n<t.length;n++){var a=o.options.itemText(t[n]);s[a]=t[n],e.push(a)}i(e)}this.map={};var s=this.map,a=l.source(e);t.isFunction(a.success)?a.success(n):t.isFunction(a.then)?a.then(n):t.when(a).then(n)},updater:function(t){o.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(o.options.typeaheadjs){var c=o.options.typeaheadjs||{};o.$input.typeahead(null,c).on("typeahead:selected",t.proxy(function(t,e){o.add(c.valueKey?e[c.valueKey]:e),o.$input.typeahead("val","")},o))}o.$container.on("click",t.proxy(function(){o.$element.attr("disabled")||o.$input.removeAttr("disabled"),o.$input.focus()},o)),o.options.addOnBlur&&o.options.freeInput&&o.$input.on("focusout",t.proxy(function(){0===t(".typeahead, .twitter-typeahead",o.$container).length&&(o.add(o.$input.val()),o.$input.val(""))},o)),o.$container.on("keydown","input",t.proxy(function(e){var i=t(e.target),n=o.findInputWrapper();if(o.$element.attr("disabled"))return void o.$input.attr("disabled","disabled");switch(e.which){case 8:if(0===s(i[0])){var a=n.prev();a&&o.remove(a.data("item"))}break;case 46:if(0===s(i[0])){var r=n.next();r&&o.remove(r.data("item"))}break;case 37:var l=n.prev();0===i.val().length&&l[0]&&(l.before(n),i.focus());break;case 39:var c=n.next();0===i.val().length&&c[0]&&(c.after(n),i.focus())}var d=i.val().length;Math.ceil(d/5),i.attr("size",Math.max(this.inputSize,i.val().length))},o)),o.$container.on("keypress","input",t.proxy(function(e){var i=t(e.target);if(o.$element.attr("disabled"))return void o.$input.attr("disabled","disabled");var n=i.val(),s=o.options.maxChars&&n.length>=o.options.maxChars;o.options.freeInput&&(a(e,o.options.confirmKeys)||s)&&(o.add(s?n.substr(0,o.options.maxChars):n),i.val(""),e.preventDefault());var r=i.val().length;Math.ceil(r/5),i.attr("size",Math.max(this.inputSize,i.val().length))},o)),o.$container.on("click","[data-role=remove]",t.proxy(function(e){o.$element.attr("disabled")||o.remove(t(e.target).closest(".tag").data("item"))},o)),o.options.itemValue===r.itemValue&&("INPUT"===o.$element[0].tagName?o.add(o.$element.val()):t("option",o.$element).each(function(){o.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],i=this.$container[0];e&&e.parentNode!==i;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(i,n){var o=[];return this.each(function(){var s=t(this).data("tagsinput");if(s)if(i||n){if(void 0!==s[i]){var a=s[i](n);void 0!==a&&o.push(a)}}else o.push(s);else s=new e(this,i),t(this).data("tagsinput",s),o.push(s),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof i?o.length>1?o:o[0]:o},t.fn.tagsinput.Constructor=e;var l=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),$("#header_picture").change(function(){readURL(this)}),function(t){function e(t,e,o){var s=t[0],a=/er/.test(o)?_indeterminate:/bl/.test(o)?p:h,r=o==_update?{checked:s[h],disabled:s[p],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:s[a];if(/^(ch|di|in)/.test(o)&&!r)i(t,a);else if(/^(un|en|de)/.test(o)&&r)n(t,a);else if(o==_update)for(var l in r)r[l]?i(t,l,!0):n(t,l,!0);else e&&"toggle"!=o||(e||t[_callback]("ifClicked"),r?s[_type]!==d&&n(t,a):i(t,a))}function i(e,i,o){var f=e[0],m=e.parent(),v=i==h,g=i==_indeterminate,y=i==p,b=g?_determinate:v?u:"enabled",w=s(e,b+a(f[_type])),C=s(e,i+a(f[_type]));if(!0!==f[i]){if(!o&&i==h&&f[_type]==d&&f.name){var x=e.closest("form"),k='input[name="'+f.name+'"]',k=x.length?x.find(k):t(k);k.each(function(){this!==f&&t(this).data(l)&&n(t(this),i)})}g?(f[i]=!0,f[h]&&n(e,h,"force")):(o||(f[i]=!0),v&&f[_indeterminate]&&n(e,_indeterminate,!1)),r(e,v,i,o)}f[p]&&s(e,_cursor,!0)&&m.find("."+c).css(_cursor,"default"),m[_add](C||s(e,i)||""),m.attr("role")&&!g&&m.attr("aria-"+(y?p:h),"true"),m[_remove](w||s(e,b)||"")}function n(t,e,i){var n=t[0],o=t.parent(),l=e==h,d=e==_indeterminate,f=e==p,m=d?_determinate:l?u:"enabled",v=s(t,m+a(n[_type])),g=s(t,e+a(n[_type]));!1!==n[e]&&(!d&&i&&"force"!=i||(n[e]=!1),r(t,l,m,i)),!n[p]&&s(t,_cursor,!0)&&o.find("."+c).css(_cursor,"pointer"),o[_remove](g||s(t,e)||""),o.attr("role")&&!d&&o.attr("aria-"+(f?p:h),"false"),o[_add](v||s(t,m)||"")}function o(e,i){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),i&&e[_callback](i),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function s(t,e,i){return t.data(l)?t.data(l).o[e+(i?"":"Class")]:void 0}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function r(t,e,i,n){n||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+a(i)))}var l="iCheck",c=l+"-helper",d="radio",h="checked",u="un"+h,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[l]=function(s,a){var r='input[type="checkbox"], input[type="'+d+'"]',u=t(),f=function(e){e.each(function(){var e=t(this);u=e.is(r)?u.add(e):u.add(e.find(r))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),f(this),u.each(function(){var i=t(this);"destroy"==s?o(i,"ifDestroyed"):e(i,!0,s),t.isFunction(a)&&a()});if("object"!=typeof s&&s)return this;var m=t.extend({checkedClass:h,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},s),v=m.handle,g=m.hoverClass||"hover",y=m.focusClass||"focus",b=m.activeClass||"active",w=!!m.labelHover,C=m.labelHoverClass||"hover",x=0|(""+m.increaseArea).replace("%","");return"checkbox"!=v&&v!=d||(r='input[type="'+v+'"]'),-50>x&&(x=-50),f(this),u.each(function(){var s=t(this);o(s);var a=this,r=a.id,u=-x+"%",f=100+2*x+"%",f={position:"absolute",top:u,left:u,
display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},u=_mobile?{position:"absolute",visibility:"hidden"}:x?f:{position:"absolute",opacity:0},v="checkbox"==a[_type]?m.checkboxClass||"icheckbox":m.radioClass||"i"+d,k=t(_label+'[for="'+r+'"]').add(s.closest(_label)),S=!!m.aria,T=l+"-"+Math.random().toString(36).substr(2,6),D='<div class="'+v+'" '+(S?'role="'+a[_type]+'" ':"");S&&k.each(function(){D+='aria-labelledby="',this.id?D+=this.id:(this.id=T,D+=T),D+='"'}),D=s.wrap(D+"/>")[_callback]("ifCreated").parent().append(m.insert),f=t('<ins class="'+c+'"/>').css(f).appendTo(D),s.data(l,{o:m,s:s.attr("style")}).css(u),m.inheritClass&&D[_add](a.className||""),m.inheritID&&r&&D.attr("id",l+"-"+r),"static"==D.css("position")&&D.css("position","relative"),e(s,!0,_update),k.length&&k.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var n=i[_type],o=t(this);if(!a[p]){if(n==_click){if(t(i.target).is("a"))return;e(s,!1,!0)}else w&&(/ut|nd/.test(n)?(D[_remove](g),o[_remove](C)):(D[_add](g),o[_add](C)));if(!_mobile)return!1;i.stopPropagation()}}),s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e==_click?!1:"keydown"==e&&32==t?(a[_type]==d&&a[h]||(a[h]?n(s,h):i(s,h)),!1):void("keyup"==e&&a[_type]==d?!a[h]&&i(s,h):/us|ur/.test(e)&&D["blur"==e?_remove:_add](y))}),f.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var i=t[_type],n=/wn|up/.test(i)?b:g;if(!a[p]){if(i==_click?e(s,!1,!0):(/wn|er|in/.test(i)?D[_add](n):D[_remove](n+" "+b),k.length&&w&&n==g&&k[/ut|nd/.test(i)?_remove:_add](C)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),$(document).ready(function(){function t(){var t=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",t+"px");var e=$("nav.navbar-default").height(),i=$("#page-wrapper").height();e>i&&$("#page-wrapper").css("min-height",e+"px"),i>e&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&(e>i?$("#page-wrapper").css("min-height",e-60+"px"):$("#page-wrapper").css("min-height",$(window).height()-60+"px"))}$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$("#side-menu").metisMenu(),$(".collapse-link").click(function(){var t=$(this).closest("div.ibox"),e=$(this).find("i"),i=t.find("div.ibox-content");i.slideToggle(200),e.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),t.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){t.resize(),t.find("[id^=map-]").resize()},50)}),$(".close-link").click(function(){var t=$(this).closest("div.ibox");t.remove()}),$(".fullscreen-link").click(function(){var t=$(this).closest("div.ibox"),e=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),e.toggleClass("fa-expand").toggleClass("fa-compress"),t.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}),$(".close-canvas-menu").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$("body.canvas-menu .sidebar-collapse").slimScroll({height:"100%",railOpacity:.9}),$(".right-sidebar-toggle").click(function(){$("#right-sidebar").toggleClass("sidebar-open")}),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").click(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")}),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").click(function(){var t=$(this).find("i"),e=$(this).next("span");return t.toggleClass("fa-check-square").toggleClass("fa-square-o"),e.toggleClass("todo-completed"),!1}),$(".navbar-minimalize").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),$(".modal").appendTo("body"),t(),$(window).bind("load",function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||t()}),$("[data-toggle=popover]").popover(),$(".full-height-scroll").slimscroll({height:"100%"})}),$(window).bind("resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")}),!function(t,e,i){"use strict";var n,o,s,a,r,l,c,d,h,u,p,f,m,v,g,y,b,w,C,x,k,S,T,D,E,$,I,A,M,N,O;T={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},w="scrollbar",b="scroll",h="mousedown",u="mouseenter",p="mousemove",m="mousewheel",f="mouseup",y="resize",r="drag",l="enter",x="up",g="panedown",s="DOMMouseScroll",a="down",k="wheel",c="keydown",d="keyup",C="touchmove",n="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,o=null,I=e.requestAnimationFrame,S=e.cancelAnimationFrame,M=i.createElement("div").style,O=function(){var t,e,i,n,o,s;for(n=["t","webkitT","MozT","msT","OT"],t=o=0,s=n.length;s>o;t=++o)if(i=n[t],e=n[t]+"ransform",e in M)return n[t].substr(0,n[t].length-1);return!1}(),N=function(t){return O===!1?!1:""===O?t:O+t.charAt(0).toUpperCase()+t.substr(1)},A=N("transform"),E=A!==!1,D=function(){var t,e,n;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=b,e.top="-9999px",i.body.appendChild(t),n=t.offsetWidth-t.clientWidth,i.body.removeChild(t),n},$=function(){var t,i,n;return i=e.navigator.userAgent,(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))?(n=/Firefox\/\d{2}\./.exec(i),n&&(n=n[0].replace(/\D+/g,"")),t&&+n>23):!1},v=function(){function c(n,s){this.el=n,this.options=s,o||(o=D()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+s.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===s)(e===a&&t.originalEvent.detail>0||e===x&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===m){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===a&&t.originalEvent.wheelDelta<0||e===x&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var t;E?(t={},t[A]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},I?(S&&this.scrollRAF&&S(this.scrollRAF),this.scrollRAF=I(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},c.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass("active"),t.doc.bind(p,t.events[r]).bind(f,t.events[x]),t.body.bind(u,t.events[l]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(p,t.events[r]).unbind(f,t.events[x]),t.body.unbind(u,t.events[l]),!1}}(this),resize:function(t){return function(){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,a),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,x),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;return null!=e?(i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1):void 0}}(this),enter:function(t){return function(e){var i;return t.isBeingDragged&&1!==(e.buttons||e.which)?(i=t.events)[x].apply(i,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(y,t[y]),this.iOSNativeScrolling||(this.slider.bind(h,t[a]),this.pane.bind(h,t[g]).bind(""+m+" "+s,t[k])),this.$content.bind(""+b+" "+m+" "+s+" "+C,t[b])},c.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(y,t[y]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+b+" "+m+" "+s+" "+C,t[b])},c.prototype.generate=function(){var t,i,n,s,a,r,l;return s=this.options,r=s.paneClass,l=s.sliderClass,t=s.contentClass,(a=this.$el.children("."+r)).length||a.children("."+l).length||this.$el.append('<div class="'+r+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+r),this.slider=this.pane.find("."+l),0===o&&$()?(n=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+n+14}):o&&(i={right:-o},this.$el.addClass("has-scrollbar")),null!=i&&this.$content.css(i),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var t,e,i,s,a,r,l,c,d,h,u,p;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,s=t.style,a=s.overflowY,n&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+o,h=parseInt(this.$el.css("max-height"),10),h>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>h?h:t.scrollHeight)),l=this.pane.outerHeight(!1),d=parseInt(this.pane.css("top"),10),r=parseInt(this.pane.css("bottom"),10),c=l+d+r,p=Math.round(c/e*c),p<this.options.sliderMinHeight?p=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&p>this.options.sliderMaxHeight&&(p=this.options.sliderMaxHeight),a===b&&s.overflowX!==b&&(p+=o),this.maxSliderTop=c-p,this.contentHeight=e,this.paneHeight=l,this.paneOuterHeight=c,this.sliderHeight=p,this.paneTop=d,this.slider.height(p),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&a!==b?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&a===b?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),("static"===i||"relative"===i)&&(u=parseInt(this.$content.css("right"),10),u&&this.$content.css({right:"",marginRight:u})),this)},c.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},c.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(m),this.stop().restore(),this):void 0},c.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(m),this.stop().restore(),this):void 0},c.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},c.prototype.stop=function(){return S&&this.scrollRAF&&(S(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),n&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},c}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,n;if((n=this.nanoscroller)||(i=t.extend({},T,e),this.nanoscroller=n=new v(this,i)),e&&"object"==typeof e){if(t.extend(n.options,e),null!=e.scrollBottom)return n.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return n.scrollTop(e.scrollTop);if(e.scrollTo)return n.scrollTo(e.scrollTo);if("bottom"===e.scroll)return n.scrollBottom(0);if("top"===e.scroll)return n.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return n.scrollTo(e.scroll);if(e.stop)return n.stop();if(e.destroy)return n.destroy();if(e.flash)return n.flash()}return n.reset()})},t.fn.nanoScroller.Constructor=v}(jQuery,window,document),!function(t,e,i){function n(e,i){this.element=t(e),this.settings=t.extend({},s,i),this._defaults=s,this._name=o,this.init()}var o="metisMenu",s={toggle:!0,doubleTapToGo:!1};n.prototype={init:function(){var e=this.element,n=this.settings.toggle,s=this;this.isIE()<=9?(e.find("li.active").has("ul").children("ul").collapse("show"),e.find("li").not(".active").has("ul").children("ul").collapse("hide")):(e.find("li.active").has("ul").children("ul").addClass("collapse in"),e.find("li").not(".active").has("ul").children("ul").addClass("collapse")),s.settings.doubleTapToGo&&e.find("li.active").has("ul").children("a").addClass("doubleTapToGo"),e.find("li").has("ul").children("a").on("click."+o,function(e){return e.preventDefault(),s.settings.doubleTapToGo&&s.doubleTapToGo(t(this))&&"#"!==t(this).attr("href")&&""!==t(this).attr("href")?(e.stopPropagation(),void(i.location=t(this).attr("href"))):(t(this).parent("li").toggleClass("active").children("ul").collapse("toggle"),void(n&&t(this).parent("li").siblings().removeClass("active").children("ul.in").collapse("hide")))})},isIE:function(){for(var t,e=3,n=i.createElement("div"),o=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",o[0];)return e>4?e:t},doubleTapToGo:function(t){var e=this.element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},remove:function(){this.element.off("."+o),this.element.removeData(o)}},t.fn[o]=function(e){return this.each(function(){var i=t(this);i.data(o)&&i.data(o).remove(),i.data(o,new n(this,e))}),this}}(jQuery,window,document),!function(t){"use strict";window.nifty={container:t("#container"),contentContainer:t("#content-container"),navbar:t("#navbar"),mainNav:t("#mainnav-container"),aside:t("#aside-container"),footer:t("#footer"),scrollTop:t("#scroll-top"),window:t(window),body:t("body"),bodyHtml:t("body, html"),document:t(document),screenSize:"",isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}(),randomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},transition:function(){var t=document.body||document.documentElement,e=t.style,i=void 0!==e.transition||void 0!==e.WebkitTransition;return i}()},nifty.document.ready(function(){nifty.document.trigger("nifty.ready")}),nifty.document.on("nifty.ready",function(){var e=t(".add-tooltip");e.length&&e.tooltip();var i=t(".add-popover");i.length&&i.popover();var n=t(".nano");n.length&&n.nanoScroller({preventPageScrolling:!0}),t("#navbar-container .navbar-top-links").on("shown.bs.dropdown",".dropdown",function(){t(this).find(".nano").nanoScroller({preventPageScrolling:!0})}),nifty.body.addClass("nifty-ready")})}(jQuery),!function(t){"use strict";var e=null,i=function(t){var e=t.find(".mega-dropdown-toggle");t.find(".mega-dropdown-menu"),e.on("click",function(e){e.preventDefault(),t.toggleClass("open")})},n={toggle:function(){return this.toggleClass("open"),null},show:function(){return this.addClass("open"),null},hide:function(){return this.removeClass("open"),null}};t.fn.niftyMega=function(e){var o=!1;return this.each(function(){n[e]?o=n[e].apply(t(this).find("input"),Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e||i(t(this))}),o},nifty.document.on("nifty.ready",function(){e=t(".mega-dropdown"),e.length&&e.niftyMega(),t("html").on("click",function(i){e.length&&(t(i.target).closest(".mega-dropdown").length||e.removeClass("open"))})})}(jQuery),!function(t){"use strict";nifty.document.on("nifty.ready",function(){var e=t('[data-dismiss="panel"]');e.length&&e.one("click",function(e){e.preventDefault();var i=t(this).parents(".panel");i.addClass("remove").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){"opacity"==t.originalEvent.propertyName&&i.remove()})})})}(jQuery),!function(){"use strict";nifty.document.one("nifty.ready",function(){if(nifty.scrollTop.length&&!nifty.isMobile){var t=!0,e=250;nifty.window.scroll(function(){nifty.window.scrollTop()>e&&!t?(nifty.navbar.addClass("shadow"),nifty.scrollTop.addClass("in"),t=!0):nifty.window.scrollTop()<e&&t&&(nifty.navbar.removeClass("shadow"),nifty.scrollTop.removeClass("in"),t=!1)}),nifty.scrollTop.on("click",function(t){t.preventDefault(),nifty.bodyHtml.animate({scrollTop:0},500)})}})}(jQuery),!function(t){"use strict";var e={displayIcon:!0,iconColor:"text-dark",iconClass:"fa fa-refresh fa-spin fa-2x",title:"",desc:""},i=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},n={show:function(e){var n=t(e.attr("data-target")),o="nifty-overlay-"+i()+i()+"-"+i(),s=t('<div id="'+o+'" class="panel-overlay"></div>');return e.prop("disabled",!0).data("niftyOverlay",o),n.addClass("panel-overlay-wrap"),s.appendTo(n).html(e.data("overlayTemplate")),null},hide:function(e){var i=t(e.attr("data-target")),n=t("#"+e.data("niftyOverlay"));return n.length&&(e.prop("disabled",!1),i.removeClass("panel-overlay-wrap"),n.hide().remove()),null}},o=function(i,n){if(i.data("overlayTemplate"))return null;var o=t.extend({},e,n),s=o.displayIcon?'<span class="panel-overlay-icon '+o.iconColor+'"><i class="'+o.iconClass+'"></i></span>':"";return i.data("overlayTemplate",'<div class="panel-overlay-content pad-all unselectable">'+s+'<h4 class="panel-overlay-title">'+o.title+"</h4><p>"+o.desc+"</p></div>"),null};t.fn.niftyOverlay=function(e){return n[e]?n[e](this):"object"!=typeof e&&e?null:this.each(function(){o(t(this),e)})}}(jQuery),!function(t){"use strict";var e,i,n={},o=!1;t.niftyNoty=function(s){var a,r={type:"primary",icon:"",title:"",message:"",closeBtn:!0,container:"page",floating:{position:"top-right",animationIn:"jellyIn",animationOut:"fadeOut"},html:null,focus:!0,timer:0},l=t.extend({},r,s),c=t('<div class="alert-wrap"></div>'),d=function(){var t="";return s&&s.icon&&(t='<div class="media-left"><span class="icon-wrap icon-wrap-xs icon-circle alert-icon"><i class="'+l.icon+'"></i></span></div>'),t},h=function(){var t=l.closeBtn?'<button class="close" type="button"><i class="fa fa-times-circle"></i></button>':"",e='<div class="alert alert-'+l.type+'" role="alert">'+t+'<div class="media">';return l.html?e+l.html+"</div></div>":e+d()+'<div class="media-body"><h4 class="alert-title">'+l.title+'</h4><p class="alert-message">'+l.message+"</p></div></div>"}(),u=function(){return"floating"===l.container&&l.floating.animationOut&&(c.removeClass(l.floating.animationIn).addClass(l.floating.animationOut),nifty.transition||c.remove()),c.removeClass("in").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){"max-height"==t.originalEvent.propertyName&&c.remove()}),clearInterval(a),null},p=function(t){nifty.bodyHtml.animate({scrollTop:t},300,function(){c.addClass("in")})};if(!function(){if("page"===l.container)e||(e=t('<div id="page-alert"></div>'),nifty.contentContainer.prepend(e)),i=e,l.focus&&p(0);else if("floating"===l.container)n[l.floating.position]||(n[l.floating.position]=t('<div id="floating-'+l.floating.position+'" class="floating-container"></div>'),nifty.container.append(n[l.floating.position])),i=n[l.floating.position],l.floating.animationIn&&c.addClass("in animated "+l.floating.animationIn),l.focus=!1;else{var s=t(l.container),a=s.children(".panel-alert"),r=s.children(".panel-heading");if(!s.length)return o=!1,!1;a.length?i=a:(i=t('<div class="panel-alert"></div>'),r.length?r.after(i):s.prepend(i)),l.focus&&p(s.offset().top-30)}return o=!0,!1}(),o&&(i.append(c.html(h)),c.find('[data-dismiss="noty"]').one("click",u),l.closeBtn&&c.find(".close").one("click",u),l.timer>0&&(a=setInterval(u,l.timer)),!l.focus))var f=setInterval(function(){c.addClass("in"),clearInterval(f)},200)}}(jQuery),!function(t){"use strict";var e,i=function(e){if(!e.data("nifty-check")){e.data("nifty-check",!0),e.text().trim().length?e.addClass("form-text"):e.removeClass("form-text");var i=e.find("input")[0],n=i.name,o=function(){return"radio"==i.type&&n?t(".form-radio").not(e).find("input").filter('input[name="'+n+'"]').parent():!1}(),s=function(){"radio"==i.type&&o.length&&o.each(function(){var e=t(this);e.hasClass("active")&&e.trigger("nifty.ch.unchecked"),e.removeClass("active")}),i.checked?e.addClass("active").trigger("nifty.ch.checked"):e.removeClass("active").trigger("nifty.ch.unchecked")};i.checked?e.addClass("active"):e.removeClass("active"),t(i).on("change",s)}},n={isChecked:function(){return this[0].checked},toggle:function(){return this[0].checked=!this[0].checked,this.trigger("change"),null},toggleOn:function(){return this[0].checked||(this[0].checked=!0,this.trigger("change")),null},toggleOff:function(){return this[0].checked&&"checkbox"==this[0].type&&(this[0].checked=!1,this.trigger("change")),null}},o=function(){e=t(".form-checkbox, .form-radio"),e.length&&e.niftyCheck()};t.fn.niftyCheck=function(e){var o=!1;return this.each(function(){n[e]?o=n[e].apply(t(this).find("input"),Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e||i(t(this))}),o},nifty.document.on("nifty.ready",o).on("change",".form-checkbox, .form-radio",o),nifty.document.on("change",".btn-file :file",function(){var e=t(this),i=e.get(0).files?e.get(0).files.length:1,n=e.val().replace(/\\/g,"/").replace(/.*\//,""),o=function(){try{return e[0].files[0].size}catch(t){return"Nan"}}(),s=function(){if("Nan"==o)return"Unknown";var t=Math.floor(Math.log(o)/Math.log(1024));return 1*(o/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB","GB","TB"][t]}();e.trigger("fileselect",[i,n,s])})}(jQuery),!function(t){nifty.document.on("nifty.ready",function(){var e=t("#mainnav-shortcut");e.length&&e.find("li").each(function(){var e=t(this);e.popover({animation:!1,trigger:"hover focus",placement:"bottom",container:"#mainnav-container",template:'<div class="popover mainnav-shortcut"><div class="arrow"></div><div class="popover-content"></div>'})})})}(jQuery),!function(t,e){var i={};i.eventName="resizeEnd",i.delay=250,i.poll=function(){var n=t(this),o=n.data(i.eventName);o.timeoutId&&e.clearTimeout(o.timeoutId),o.timeoutId=e.setTimeout(function(){n.trigger(i.eventName)},i.delay)},t.event.special[i.eventName]={setup:function(){var e=t(this);e.data(i.eventName,{}),e.on("resize",i.poll)},teardown:function(){var n=t(this),o=n.data(i.eventName);o.timeoutId&&e.clearTimeout(o.timeoutId),n.removeData(i.eventName),n.off("resize",i.poll)}},t.fn[i.eventName]=function(t,e){return arguments.length>0?this.on(i.eventName,null,t,e):this.trigger(i.eventName)}}(jQuery,this),!function(t){"use strict";var e=t('#mainnav-menu > li > a, #mainnav-menu-wrap .mainnav-widget a[data-toggle="menu-widget"]'),i=t("#mainnav").height(),n=null,o=!1,s=!1,a=null,r=function(){var e,i=t('#mainnav-menu > li > a, #mainnav-menu-wrap .mainnav-widget a[data-toggle="menu-widget"]');i.each(function(){var n=t(this),o=n.children(".menu-title"),s=n.siblings(".collapse"),a=t(n.attr("data-target")),r=a.length?a.parent():null,l=null,c=null,d=null,h=null,u=(n.outerHeight()-n.height()/4,function(){return a.length&&n.on("click",function(t){t.preventDefault()}),s.length?(n.on("click",function(t){t.preventDefault()}).parent("li").removeClass("active"),!0):!1}()),p=null,f=function(t){clearInterval(p),p=setInterval(function(){t.nanoScroller({preventPageScrolling:!0,alwaysVisible:!0}),clearInterval(p)},700)};t(document).click(function(e){t(e.target).closest("#mainnav-container").length||n.removeClass("hover").popover("hide")}),t("#mainnav-menu-wrap > .nano").on("update",function(){n.removeClass("hover").popover("hide")}),n.popover({animation:!1,trigger:"manual",container:"#mainnav",viewport:n,html:!0,title:function(){return u?o.html():null},content:function(){var e;return u?(e=t('<div class="sub-menu"></div>'),s.addClass("pop-in").wrap('<div class="nano-content"></div>').parent().appendTo(e)):a.length?(e=t('<div class="sidebar-widget-popover"></div>'),a.wrap('<div class="nano-content"></div>').parent().appendTo(e)):e='<span class="single-content">'+o.html()+"</span>",e},template:'<div class="popover menu-popover"><h4 class="popover-title"></h4><div class="popover-content"></div></div>'}).on("show.bs.popover",function(){if(!l){if(l=n.data("bs.popover").tip(),c=l.find(".popover-title"),d=l.children(".popover-content"),!u&&0==a.length)return;h=d.children(".sub-menu")}!u&&0==a.length}).on("shown.bs.popover",function(){if(!u&&0==a.length){var e=0-.5*n.outerHeight();return void d.css({"margin-top":e+"px",width:"auto"})}var i=parseInt(l.css("top")),o=n.outerHeight(),s=function(){return nifty.container.hasClass("mainnav-fixed")?t(window).outerHeight()-i-o:t(document).height()-i-o}(),r=d.find(".nano-content").children().css("height","auto").outerHeight();d.find(".nano-content").children().css("height",""),i>s?(c.length&&!c.is(":visible")&&(o=Math.round(0-.5*o)),i-=5,d.css({top:"",bottom:o+"px",height:i}).children().addClass("nano").css({width:"100%"}).nanoScroller({preventPageScrolling:!0}),f(d.find(".nano"))):(!nifty.container.hasClass("navbar-fixed")&&nifty.mainNav.hasClass("affix-top")&&(s-=50),r>s?((nifty.container.hasClass("navbar-fixed")||nifty.mainNav.hasClass("affix-top"))&&(s-=o+5),s-=5,d.css({top:o+"px",bottom:"",height:s}).children().addClass("nano").css({width:"100%"}).nanoScroller({preventPageScrolling:!0}),f(d.find(".nano"))):(c.length&&!c.is(":visible")&&(o=Math.round(0-.5*o)),d.css({top:o+"px",bottom:"",height:"auto"}))),c.length&&c.css("height",n.outerHeight()),d.on("click",function(){d.find(".nano-pane").hide(),f(d.find(".nano"))})}).on("hidden.bs.popover",function(){n.removeClass("hover"),u?s.removeAttr("style").appendTo(n.parent()):a.length&&a.appendTo(r),clearInterval(e)}).on("click",function(){nifty.container.hasClass("mainnav-sm")&&(i.popover("hide"),n.addClass("hover").popover("show"))}).hover(function(){i.popover("hide"),n.addClass("hover").popover("show")},function(){clearInterval(e),e=setInterval(function(){l&&(l.one("mouseleave",function(){n.removeClass("hover").popover("hide")}),l.is(":hover")||n.removeClass("hover").popover("hide")),clearInterval(e)},500)})}),s=!0},l=function(){var i=t("#mainnav-menu").find(".collapse");i.length&&i.each(function(){var e=t(this);e.hasClass("in")?e.parent("li").addClass("active"):e.parent("li").removeClass("active")}),null!=n&&n.length&&n.nanoScroller({stop:!0}),e.popover("destroy").unbind("mouseenter mouseleave"),s=!1},c=function(){var e,i=nifty.container.width();e=740>=i?"xs":i>740&&992>i?"sm":i>=992&&1200>=i?"md":"lg",a!=e&&(a=e,nifty.screenSize=e,"sm"==nifty.screenSize&&nifty.container.hasClass("mainnav-lg")&&t.niftyNav("collapse"))},d=function(){return nifty.mainNav.niftyAffix("update"),l(),c(),("collapse"==o||nifty.container.hasClass("mainnav-sm"))&&(nifty.container.removeClass("mainnav-in mainnav-out mainnav-lg"),r()),i=t("#mainnav").height(),o=!1,null},h={revealToggle:function(){nifty.container.hasClass("reveal")||nifty.container.addClass("reveal"),nifty.container.toggleClass("mainnav-in mainnav-out").removeClass("mainnav-lg mainnav-sm"),s&&l()},revealIn:function(){nifty.container.hasClass("reveal")||nifty.container.addClass("reveal"),nifty.container.addClass("mainnav-in").removeClass("mainnav-out mainnav-lg mainnav-sm"),s&&l()},revealOut:function(){nifty.container.hasClass("reveal")||nifty.container.addClass("reveal"),nifty.container.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"),s&&l()},slideToggle:function(){nifty.container.hasClass("slide")||nifty.container.addClass("slide"),nifty.container.toggleClass("mainnav-in mainnav-out").removeClass("mainnav-lg mainnav-sm"),s&&l()},slideIn:function(){nifty.container.hasClass("slide")||nifty.container.addClass("slide"),nifty.container.addClass("mainnav-in").removeClass("mainnav-out mainnav-lg mainnav-sm"),s&&l()},slideOut:function(){nifty.container.hasClass("slide")||nifty.container.addClass("slide"),nifty.container.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"),s&&l()},pushToggle:function(){nifty.container.toggleClass("mainnav-in mainnav-out").removeClass("mainnav-lg mainnav-sm"),nifty.container.hasClass("mainnav-in mainnav-out")&&nifty.container.removeClass("mainnav-in"),s&&l()},pushIn:function(){nifty.container.addClass("mainnav-in").removeClass("mainnav-out mainnav-lg mainnav-sm"),s&&l()},pushOut:function(){nifty.container.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"),s&&l()},colExpToggle:function(){return nifty.container.hasClass("mainnav-lg mainnav-sm")&&nifty.container.removeClass("mainnav-lg"),nifty.container.toggleClass("mainnav-lg mainnav-sm").removeClass("mainnav-in mainnav-out"),nifty.window.trigger("resize")},collapse:function(){return nifty.container.addClass("mainnav-sm").removeClass("mainnav-lg mainnav-in mainnav-out"),o="collapse",nifty.window.trigger("resize")},expand:function(){return nifty.container.removeClass("mainnav-sm mainnav-in mainnav-out").addClass("mainnav-lg"),nifty.window.trigger("resize")},togglePosition:function(){nifty.container.toggleClass("mainnav-fixed"),nifty.mainNav.niftyAffix("update")},fixedPosition:function(){nifty.container.addClass("mainnav-fixed"),nifty.mainNav.niftyAffix("update")},staticPosition:function(){nifty.container.removeClass("mainnav-fixed"),nifty.mainNav.niftyAffix("update")},update:d,forceUpdate:c,getScreenSize:function(){return a}};t.niftyNav=function(t,e){if(h[t]){("colExpToggle"==t||"expand"==t||"collapse"==t)&&("xs"==nifty.screenSize&&"collapse"==t?t="pushOut":"xs"!=nifty.screenSize&&"sm"!=nifty.screenSize||"colExpToggle"!=t&&"expand"!=t||!nifty.container.hasClass("mainnav-sm")||(t="pushIn"));
var i=h[t].apply(this,Array.prototype.slice.call(arguments,1));if(e)return e();if(i)return i}return null},t.fn.isOnScreen=function(){var t={top:nifty.window.scrollTop(),left:nifty.window.scrollLeft()};t.right=t.left+nifty.window.width(),t.bottom=t.top+nifty.window.height();var e=this.offset();return e.right=e.left+this.outerWidth(),e.bottom=e.top+this.outerHeight(),!(t.right<e.left||t.left>e.right||t.bottom<e.bottom||t.top>e.top)},nifty.window.on("resizeEnd",d).trigger("resize"),nifty.document.on("nifty.ready",function(){var e=t(".mainnav-toggle");e.length&&e.on("click",function(i){i.preventDefault(),t.niftyNav(e.hasClass("push")?"pushToggle":e.hasClass("slide")?"slideToggle":e.hasClass("reveal")?"revealToggle":"colExpToggle")});var i=t("#mainnav-menu");i.length&&(t("#mainnav-menu").metisMenu({toggle:!0}),n=nifty.mainNav.find(".nano"),n.length&&n.nanoScroller({preventPageScrolling:!0}))})}(jQuery),!function(t){"use strict";var e={toggleHideShow:function(){nifty.container.toggleClass("aside-in"),nifty.window.trigger("resize"),nifty.container.hasClass("aside-in")&&i()},show:function(){nifty.container.addClass("aside-in"),nifty.window.trigger("resize"),i()},hide:function(){nifty.container.removeClass("aside-in"),nifty.window.trigger("resize")},toggleAlign:function(){nifty.container.toggleClass("aside-left"),nifty.aside.niftyAffix("update")},alignLeft:function(){nifty.container.addClass("aside-left"),nifty.aside.niftyAffix("update")},alignRight:function(){nifty.container.removeClass("aside-left"),nifty.aside.niftyAffix("update")},togglePosition:function(){nifty.container.toggleClass("aside-fixed"),nifty.aside.niftyAffix("update")},fixedPosition:function(){nifty.container.addClass("aside-fixed"),nifty.aside.niftyAffix("update")},staticPosition:function(){nifty.container.removeClass("aside-fixed"),nifty.aside.niftyAffix("update")},toggleTheme:function(){nifty.container.toggleClass("aside-bright")},brightTheme:function(){nifty.container.addClass("aside-bright")},darkTheme:function(){nifty.container.removeClass("aside-bright")}},i=function(){nifty.container.hasClass("mainnav-in")&&"xs"!=nifty.screenSize&&("sm"==nifty.screenSize?t.niftyNav("collapse"):nifty.container.removeClass("mainnav-in mainnav-lg mainnav-sm").addClass("mainnav-out"))};t.niftyAside=function(t,i){return e[t]&&(e[t].apply(this,Array.prototype.slice.call(arguments,1)),i)?i():null},nifty.document.on("nifty.ready",function(){if(nifty.aside.length){nifty.aside.find(".nano").nanoScroller({preventPageScrolling:!0,alwaysVisible:!1});var e=t(".aside-toggle");e.length&&e.on("click",function(){t.niftyAside("toggleHideShow")})}})}(jQuery),!function(t){"use strict";var e={dynamicMode:!0,selectedOn:null,onChange:null},i=function(i,n){var o=t.extend({},e,n),s=i.find(".lang-selected"),a=s.parent(".lang-selector").siblings(".dropdown-menu"),r=a.find("a"),l=r.filter(".active").find(".lang-id").text(),c=r.filter(".active").find(".lang-name").text(),d=function(t){r.removeClass("active"),t.addClass("active"),s.html(t.html()),l=t.find(".lang-id").text(),c=t.find(".lang-name").text(),i.trigger("onChange",[{id:l,name:c}]),"function"==typeof o.onChange&&o.onChange.call(this,{id:l,name:c})};r.on("click",function(e){o.dynamicMode&&(e.preventDefault(),e.stopPropagation()),i.dropdown("toggle"),d(t(this))}),o.selectedOn&&d(t(o.selectedOn))},n={getSelectedID:function(){return t(this).find(".lang-id").text()},getSelectedName:function(){return t(this).find(".lang-name").text()},getSelected:function(){var e=t(this);return{id:e.find(".lang-id").text(),name:e.find(".lang-name").text()}},setDisable:function(){return t(this).addClass("disabled"),null},setEnable:function(){return t(this).removeClass("disabled"),null}};t.fn.niftyLanguage=function(e){var o=!1;return this.each(function(){n[e]?o=n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e||i(t(this),e)}),o}}(jQuery),!function(t){"use strict";t.fn.niftyAffix=function(e){return this.each(function(){var i,n=t(this);"object"!=typeof e&&e?"update"==e&&(i=n.data("nifty.af.class")):(i=e.className,n.data("nifty.af.class",e.className)),nifty.container.hasClass(i)&&!nifty.container.hasClass("navbar-fixed")?n.affix({offset:{top:t("#navbar").outerHeight()}}):(!nifty.container.hasClass(i)||nifty.container.hasClass("navbar-fixed"))&&(nifty.window.off(n.attr("id")+".affix"),n.removeClass("affix affix-top affix-bottom").removeData("bs.affix"))})},nifty.document.on("nifty.ready",function(){nifty.mainNav.length&&nifty.mainNav.niftyAffix({className:"mainnav-fixed"}),nifty.aside.length&&nifty.aside.niftyAffix({className:"aside-fixed"})})}(jQuery),function(){$(".selectPicker").selectpicker({style:"btn-default",size:4})}(),function(e){e.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function o(t){if(c){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(y.parent())&&s(i,!0),t.preventDefault&&!g&&t.preventDefault(),g||(t.returnValue=!1)}}function s(t,e,i){g=!1;var o=t,s=y.outerHeight()-w.outerHeight();e&&(o=parseInt(w.css("top"))+t*parseInt(n.wheelStep)/100*w.outerHeight(),o=Math.min(Math.max(o,0),s),o=t>0?Math.ceil(o):Math.floor(o),w.css({top:o+"px"})),m=parseInt(w.css("top"))/(y.outerHeight()-w.outerHeight()),o=m*(y[0].scrollHeight-y.outerHeight()),i&&(o=t,t=o/y[0].scrollHeight*y.outerHeight(),t=Math.min(Math.max(t,0),s),w.css({top:t+"px"})),y.scrollTop(o),y.trigger("slimscrolling",~~o),r(),l()}function a(){f=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),30),w.css({height:f+"px"});var t=f==y.outerHeight()?"none":"block";w.css({display:t})}function r(){a(),clearTimeout(u),m==~~m?(g=n.allowPageScroll,v!=m&&y.trigger("slimscroll",0==~~m?"top":"bottom")):g=!1,v=m,f>=y.outerHeight()?g=!0:(w.stop(!0,!0).fadeIn("fast"),n.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function l(){n.alwaysVisible||(u=setTimeout(function(){n.disableFadeOut&&c||d||h||(w.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var c,d,h,u,p,f,m,v,g=!1,y=e(this);if(y.parent().hasClass(n.wrapperClass)){var b=y.scrollTop(),w=y.closest("."+n.barClass),C=y.closest("."+n.railClass);if(a(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){y.parent().css("height","auto"),y.css("height","auto");var x=y.parent().parent().height();y.parent().css("height",x),y.css("height",x)}if("scrollTo"in i)b=parseInt(n.scrollTo);else if("scrollBy"in i)b+=parseInt(n.scrollBy);else if("destroy"in i)return w.remove(),C.remove(),void y.unwrap();s(b,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){n.height="auto"==n.height?y.parent().height():n.height,b=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),y.css({overflow:"hidden",width:n.width,height:n.height});var C=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),w=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),x="right"==n.position?{right:n.distance}:{left:n.distance};C.css(x),w.css(x),y.wrap(b),y.parent().append(w),y.parent().append(C),n.railDraggable&&w.bind("mousedown",function(i){var n=e(document);return h=!0,t=parseFloat(w.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),s(0,w.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){h=!1,l(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),C.hover(function(){r()},function(){l()}),w.hover(function(){d=!0},function(){d=!1}),y.hover(function(){c=!0,r(),l()},function(){c=!1,l()}),y.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(p=t.originalEvent.touches[0].pageY)}),y.bind("touchmove",function(t){g||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(s((p-t.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),p=t.originalEvent.touches[0].pageY)}),a(),"bottom"===n.start?(w.css({top:y.outerHeight()-w.outerHeight()}),s(0,!0)):"top"!==n.start&&(s(e(n.start).position().top,null,!0),n.alwaysVisible||w.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery","codemirror"],t):t(window.jQuery,window.CodeMirror)}(function(t,e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var i,n,o=this.length>>>0,s=!1;for(1<arguments.length&&(n=e,s=!0),i=0;o>i;++i)this.hasOwnProperty(i)&&(s?n=t(n,this[i],i,this):(n=this[i],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return n});var i={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),bCodeMirror:!!e},n=function(){var t=function(t){return function(e){return t===e}},e=function(t,e){return t===e},i=function(){return!0},n=function(){return!1},o=function(t){return function(){return!t.apply(t,arguments)}},s=function(t){return t};return{eq:t,eq2:e,ok:i,fail:n,not:o,self:s}}(),o=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},i=function(t){return t.slice(0,t.length-1)},o=function(t){return t.slice(1)},s=function(t,e){var i=t.indexOf(e);return-1===i?null:t[i+1]},a=function(t,e){var i=t.indexOf(e);return-1===i?null:t[i-1]},r=function(t,e){return e=e||n.self,t.reduce(function(t,i){return t+e(i)},0)},l=function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},c=function(i,n){if(0===i.length)return[];var s=o(i);return s.reduce(function(t,i){var o=e(t);return n(e(o),i)?o[o.length]=i:t[t.length]=[i],t},[[t(i)]])},d=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e};return{head:t,last:e,initial:i,tail:o,prev:a,next:s,sum:r,from:l,compact:d,clusterBy:c}}(),s=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},a=function(e){return e&&t(e).hasClass("note-control-sizing")},r=function(t){var e=function(e){return function(){return t.find(e)}};return{editor:function(){return t},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog")}},l=function(t){return function(e){return e&&e.nodeName===t}},c=function(t){return t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName)},d=function(t){return t&&/^UL|^OL/.test(t.nodeName)},h=function(t){return t&&/^TD|^TH/.test(t.nodeName)},u=function(t,i){for(;t;){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},p=function(t,e){e=e||n.fail;var i=[];return u(t,function(t){return i.push(t),e(t)}),i},f=function(e,i){for(var n=p(e),o=i;o;o=o.parentNode)if(t.inArray(o,n)>-1)return o;return null},m=function(t,e){var i=[],n=!1,o=!1;return function s(a){if(a){if(a===t&&(n=!0),n&&!o&&i.push(a),a===e)return void(o=!0);for(var r=0,l=a.childNodes.length;l>r;r++)s(a.childNodes[r])}}(f(t,e)),i},v=function(t,e){e=e||n.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.previousSibling;return i},g=function(t,e){e=e||n.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.nextSibling;return i},y=function(t,e){var i=[];return e=e||n.ok,function o(n){t!==n&&e(n)&&i.push(n);for(var s=0,a=n.childNodes.length;a>s;s++)o(n.childNodes[s])}(t),i},b=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},w=function(e,i){return t.each(i,function(t,i){e.appendChild(i)}),e},C=l("#text"),x=function(t){return C(t)?t.nodeValue.length:t.childNodes.length},k=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},S=function(e,i){var s=o.initial(p(i,n.eq(e)));return t.map(s,k).reverse()},T=function(t,e){for(var i=t,n=0,o=e.length;o>n;n++)i=i.childNodes[e[n]];return i},D=function(t,e){if(0===e)return t;if(e>=x(t))return t.nextSibling;if(C(t))return t.splitText(e);var i=t.childNodes[e];return t=b(t.cloneNode(!1),t),w(t,g(i))},E=function(t,e,i){var o=p(e,n.eq(t));return 1===o.length?D(e,i):o.reduce(function(t,n){var o=n.cloneNode(!1);return b(o,n),t===e&&(t=D(t,i)),w(o,g(t)),o})},$=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,o,s=[];for(n=0,o=t.childNodes.length;o>n;n++)s.push(t.childNodes[n]);for(n=0,o=s.length;o>n;n++)i.insertBefore(s[n],t)}i.removeChild(t)}},I=function(t){return s.isTextarea(t[0])?t.val():t.html()};return{blank:i.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:e,isControlSizing:a,buildLayoutInfo:r,isText:C,isPara:c,isList:d,isTable:l("TABLE"),isCell:h,isAnchor:l("A"),isDiv:l("DIV"),isLi:l("LI"),isSpan:l("SPAN"),isB:l("B"),isU:l("U"),isS:l("S"),isI:l("I"),isImg:l("IMG"),isTextarea:l("TEXTAREA"),ancestor:u,listAncestor:p,listNext:g,listPrev:v,listDescendant:y,commonAncestor:f,listBetween:m,insertAfter:b,position:k,makeOffsetPath:S,fromOffsetPath:T,split:E,remove:$,html:I}}(),a={version:"0.5.2",options:{width:null,height:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,keyMap:{pc:{"CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule"},mac:{"CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},r=function(){var e=function(e){return t.Deferred(function(i){t.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(e)}).promise()},i=function(e){return t.Deferred(function(i){t("<img>").one("load",function(){i.resolve(t(this))}).one("error abort",function(){i.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:i}}(),l={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},c=function(){var e=function(e,n){if(i.jqueryVersion<1.9){var o={};return t.each(n,function(t,i){o[i]=e.css(i)}),o}return e.css.call(e,n)};this.stylePara=function(e,i){t.each(e.nodes(s.isPara),function(e,n){t(n).css(i)})},this.current=function(i,n){var o=t(s.isText(i.sc)?i.sc.parentNode:i.sc),a=["font-family","font-size","text-align","list-style-type","line-height"],r=e(o,a)||{};if(r["font-size"]=parseInt(r["font-size"],10),r["font-bold"]=document.queryCommandState("bold")?"bold":"normal",r["font-italic"]=document.queryCommandState("italic")?"italic":"normal",r["font-underline"]=document.queryCommandState("underline")?"underline":"normal",r["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",i.isOnList()){var l=["circle","disc","disc-leading-zero","square"],c=t.inArray(r["list-style-type"],l)>-1;r["list-style"]=c?"unordered":"ordered"}else r["list-style"]="none";var d=s.ancestor(i.sc,s.isPara);if(d&&d.style["line-height"])r["line-height"]=d.style.lineHeight;else{var h=parseInt(r["line-height"],10)/parseInt(r["font-size"],10);r["line-height"]=h.toFixed(1)}return r.image=s.isImg(n)&&n,r.anchor=i.isOnAnchor()&&s.ancestor(i.sc,s.isAnchor),r.aAncestor=s.listAncestor(i.sc,s.isEditable),r}},d=function(){var e=!!document.createRange,i=function(t,e){var i,n,a=t.parentElement(),r=document.body.createTextRange(),l=o.from(a.childNodes);for(i=0;i<l.length;i++)if(!s.isText(l[i])){if(r.moveToElementText(l[i]),r.compareEndPoints("StartToStart",t)>=0)break;n=l[i]}if(0!==i&&s.isText(l[i-1])){var c=document.body.createTextRange(),d=null;c.moveToElementText(n||a),c.collapse(!n),d=n?n.nextSibling:a.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",c);for(var u=h.text.replace(/[\r\n]/g,"").length;u>d.nodeValue.length&&d.nextSibling;)u-=d.nodeValue.length,d=d.nextSibling;d.nodeValue,e&&d.nextSibling&&s.isText(d.nextSibling)&&u===d.nodeValue.length&&(u-=d.nodeValue.length,d=d.nextSibling),a=d,i=u}return{cont:a,offset:i}},a=function(t){var e=function(t,i){var a,r;if(s.isText(t)){var l=s.listPrev(t,n.not(s.isText)),c=o.last(l).previousSibling;a=c||t.parentNode,i+=o.sum(o.tail(l),s.length),r=!c}else{if(a=t.childNodes[i]||t,s.isText(a))return e(a,i);i=0,r=!1}return{cont:a,collapseToStart:r,offset:i}},i=document.body.createTextRange(),a=e(t.cont,t.offset);return i.moveToElementText(a.cont),i.collapse(a.collapseToStart),i.moveStart("character",a.offset),i},r=function(i,r,l,c){this.sc=i,this.so=r,this.ec=l,this.eo=c;var d=function(){if(e){var t=document.createRange();return t.setStart(i,r),t.setEnd(l,c),t}var n=a({cont:i,offset:r});return n.setEndPoint("EndToEnd",a({cont:l,offset:c})),n};this.select=function(){var t=d();if(e){var i=document.getSelection();i.rangeCount>0&&i.removeAllRanges(),i.addRange(t)}else t.select()},this.nodes=function(e){var a=s.listBetween(i,l),r=o.compact(t.map(a,function(t){return s.ancestor(t,e)}));return t.map(o.clusterBy(r,n.eq2),o.head)},this.commonAncestor=function(){return s.commonAncestor(i,l)};var h=function(t){return function(){var e=s.ancestor(i,t);return!!e&&e===s.ancestor(l,t)}};this.isOnEditable=h(s.isEditable),this.isOnList=h(s.isList),this.isOnAnchor=h(s.isAnchor),this.isOnCell=h(s.isCell),this.isCollapsed=function(){return i===l&&r===c},this.insertNode=function(t){var i=d();e?i.insertNode(t):i.pasteHTML(t.outerHTML)},this.toString=function(){var t=d();return e?t.toString():t.text},this.bookmark=function(t){return{s:{path:s.makeOffsetPath(t,i),offset:r},e:{path:s.makeOffsetPath(t,l),offset:c}}}};return{create:function(t,n,o,s){if(0===arguments.length)if(e){var a=document.getSelection();if(0===a.rangeCount)return null;var l=a.getRangeAt(0);t=l.startContainer,n=l.startOffset,o=l.endContainer,s=l.endOffset}else{var c=document.selection.createRange(),d=c.duplicate();d.collapse(!1);var h=c;h.collapse(!0);var u=i(h,!0),p=i(d,!1);t=u.cont,n=u.offset,o=p.cont,s=p.offset}else 2===arguments.length&&(o=t,s=n);return new r(t,n,o,s)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var i=s.fromOffsetPath(t,e.s.path),n=e.s.offset,o=s.fromOffsetPath(t,e.e.path),a=e.e.offset;return new r(i,n,o,a)}}}(),h=function(){this.tab=function(t,e){var i=s.ancestor(t.commonAncestor(),s.isCell),n=s.ancestor(i,s.isTable),a=s.listDescendant(n,s.isCell),r=o[e?"prev":"next"](a,i);r&&d.create(r,0).select()},this.createTable=function(e,i){for(var n,o=[],a=0;e>a;a++)o.push("<td>"+s.blank+"</td>");n=o.join("");for(var r,l=[],c=0;i>c;c++)l.push("<tr>"+n+"</tr>");r=l.join("");var d='<table class="table table-bordered">'+r+"</table>";return t(d)[0]}},u=function(){var e=new c,n=new h;this.saveRange=function(t){t.data("range",d.create())},this.restoreRange=function(t){var e=t.data("range");e&&e.select()},this.currentStyle=function(t){var i=d.create();return i.isOnEditable()&&e.current(i,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var o=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},a=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],l=0,u=a.length;u>l;l++)this[a[l]]=function(t){return function(e,i){o(e),document.execCommand(t,!1,i)}}(a[l]);var p=function(e,i,n){o(e);var a=new Array(n+1).join("&nbsp;");i.insertNode(t('<span id="noteTab">'+a+"</span>")[0]);var r=t("#noteTab").removeAttr("id");i=d.create(r[0],1),i.select(),s.remove(r[0])};this.tab=function(t,e){var i=d.create();i.isCollapsed()&&i.isOnCell()?n.tab(i):p(t,i,e.tabsize)},this.untab=function(){var t=d.create();t.isCollapsed()&&t.isOnCell()&&n.tab(t,!0)},this.insertImage=function(t,e){r.createImage(e).then(function(e){o(t),e.css({display:"",width:Math.min(t.width(),e.width())}),d.create().insertNode(e[0])}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,i){o(e);var n,s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,a=i.match(s),r=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,l=i.match(r),c=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,h=i.match(c),u=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,p=i.match(u),f=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,m=i.match(f);if(a&&11===a[2].length){var v=a[2];n=t("<iframe>").attr("src","//www.youtube.com/embed/"+v).attr("width","640").attr("height","360")}else l&&l[0].length>0?n=t("<iframe>").attr("src",l[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):h&&h[0].length>0?n=t("<iframe>").attr("src",h[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):p&&p[3].length>0?n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+p[3]).attr("width","640").attr("height","360"):m&&m[2].length>0&&(n=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+m[2]).attr("width","640").attr("height","360"));n&&(n.attr("frameborder",0),d.create().insertNode(n[0]))},this.formatBlock=function(t,e){o(t),e=i.bMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(t){this.formatBlock(t,"P")};for(var l=1;6>=l;l++)this["formatH"+l]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(l);this.fontSize=function(t,e){o(t),document.execCommand("fontSize",!1,3),i.bFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px")},this.lineHeight=function(t,i){o(t),e.stylePara(d.create(),{lineHeight:i})},this.unlink=function(t){var e=d.create();if(e.isOnAnchor()){o(t);var i=s.ancestor(e.sc,s.isAnchor);e=d.createFromNode(i),e.select(),document.execCommand("unlink")}},this.createLink=function(e,n,a){var r=d.create();o(e);var l=n;if(-1!==n.indexOf("@")&&-1===n.indexOf(":")?l="mailto:"+n:-1===n.indexOf("://")&&(l="http://"+n),(i.bMSIE||i.bFF)&&r.isCollapsed()){r.insertNode(t('<A id="linkAnchor">'+n+"</A>")[0]);var c=t("#linkAnchor").attr("href",l).removeAttr("id");r=d.createFromNode(c[0]),r.select()}else document.execCommand("createlink",!1,l),r=d.create();t.each(r.nodes(s.isAnchor),function(e,i){a?t(i).attr("target","_blank"):t(i).removeAttr("target")})},this.getLinkInfo=function(){var e=d.create(),i=!0,n="";if(e.isOnAnchor()){var o=s.ancestor(e.sc,s.isAnchor);e=d.createFromNode(o),i="_blank"===t(o).attr("target"),n=o.href}return{text:e.toString(),url:n,newWindow:i}},this.getVideoInfo=function(){var t=d.create();if(t.isOnAnchor()){var e=s.ancestor(t.sc,s.isAnchor);t=d.createFromNode(e)}return{text:t.toString()}},this.color=function(t,e){var i=JSON.parse(e),n=i.foreColor,s=i.backColor;o(t),n&&document.execCommand("foreColor",!1,n),s&&document.execCommand("backColor",!1,s)},this.insertTable=function(t,e){o(t);var i=e.split("x");d.create().insertNode(n.createTable(i[0],i[1]))},this.floatMe=function(t,e,i){o(t),i.css("float",e)},this.resize=function(t,e,i){o(t),i.css({width:t.width()*e+"px",height:""})},this.resizeTo=function(t,e,i){var n;if(i){var o=t.y/t.x,s=e.data("ratio");n={width:s>o?t.x:t.y/s,height:s>o?t.x*s:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=function(t,e,i){o(t),i.detach()}},p=function(){var t=[],e=[],i=function(t){var e=t[0],i=d.create();return{contents:t.html(),bookmark:i.bookmark(e),scrollTop:t.scrollTop()}},n=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),d.createFromBookmark(t[0],e.bookmark).select()};this.undo=function(o){var s=i(o);0!==t.length&&(n(o,t.pop()),e.push(s))},this.redo=function(o){var s=i(o);0!==e.length&&(n(o,e.pop()),t.push(s))},this.recordUndo=function(n){e=[],t.push(i(n))}},f=function(){this.update=function(e,i){var n=function(e,i){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==i+"";this.className=e?"checked":""})},s=function(t,i){var n=e.find(t);n.toggleClass("active",i())},a=e.find(".note-fontname");if(a.length>0){var r=i["font-family"];r&&(r=o.head(r.split(",")),r=r.replace(/\'/g,""),a.find(".note-current-fontname").text(r),n(a,r))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(i["font-size"]),n(l,parseFloat(i["font-size"]));var c=e.find(".note-height");n(c,parseFloat(i["line-height"])),s('button[data-event="bold"]',function(){return"bold"===i["font-bold"]}),s('button[data-event="italic"]',function(){return"italic"===i["font-italic"]}),s('button[data-event="underline"]',function(){return"underline"===i["font-underline"]}),s('button[data-event="strikethrough"]',function(){return"strikethrough"===i["font-strikethrough"]}),s('button[data-event="justifyLeft"]',function(){return"left"===i["text-align"]||"start"===i["text-align"]}),s('button[data-event="justifyCenter"]',function(){return"center"===i["text-align"]}),s('button[data-event="justifyRight"]',function(){return"right"===i["text-align"]}),s('button[data-event="justifyFull"]',function(){return"justify"===i["text-align"]}),s('button[data-event="insertUnorderedList"]',function(){return"unordered"===i["list-style"]}),s('button[data-event="insertOrderedList"]',function(){return"ordered"===i["list-style"]})},this.updateRecentColor=function(e,i,n){var o=t(e).closest(".note-color"),s=o.find(".note-recent-color"),a=JSON.parse(s.attr("data-value"));a[i]=n,s.attr("data-value",JSON.stringify(a));var r="backColor"===i?"background-color":"color";s.find("i").css(r,n)},this.updateFullscreen=function(t,e){var i=t.find('button[data-event="fullscreen"]');i.toggleClass("active",e)},this.updateCodeview=function(t,e){var i=t.find('button[data-event="codeview"]');i.toggleClass("active",e)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")}},m=function(){var e=function(e,i){var n=t(i),o=n.position(),s=n.height();e.css({display:"block",left:o.left,top:o.top+s})};this.update=function(t,i){var n=t.find(".note-link-popover");if(i.anchor){var o=n.find("a");o.attr("href",i.anchor.href).html(i.anchor.href),e(n,i.anchor)}else n.hide();var s=t.find(".note-image-popover");i.image?e(s,i.image):s.hide()},this.hide=function(t){t.children().hide()}},v=function(){this.update=function(e,i){var n=e.find(".note-control-selection");if(i.image){var o=t(i.image),s=o.position(),a={w:o.width(),h:o.height()};n.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",i.image);var r=a.w+"x"+a.h;n.find(".note-control-selection-info").text(r)}else n.hide()},this.hide=function(t){t.children().hide()}},g=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(i,n){return t.Deferred(function(t){var o=n.find(".note-image-dialog"),s=n.find(".note-image-input"),a=n.find(".note-image-url"),r=n.find(".note-image-btn");o.one("shown.bs.modal",function(){s.replaceWith(s.clone().on("change",function(){o.modal("hide"),t.resolve(this.files)})),r.click(function(e){e.preventDefault(),o.modal("hide"),t.resolve(a.val())}),a.keyup(function(){e(r,a.val())}).val("").focus()}).one("hidden.bs.modal",function(){i.focus(),s.off("change"),a.off("keyup"),r.off("click")}).modal("show")})},this.showVideoDialog=function(i,n,o){return t.Deferred(function(t){var s=n.find(".note-video-dialog"),a=s.find(".note-video-url"),r=s.find(".note-video-btn");s.one("shown.bs.modal",function(){a.val(o.text).keyup(function(){e(r,a.val())}).trigger("keyup").trigger("focus"),r.click(function(e){e.preventDefault(),s.modal("hide"),t.resolve(a.val())})}).one("hidden.bs.modal",function(){
i.focus(),a.off("keyup"),r.off("click")}).modal("show")})},this.showLinkDialog=function(i,n,o){return t.Deferred(function(t){var s=n.find(".note-link-dialog"),a=s.find(".note-link-text"),r=s.find(".note-link-url"),l=s.find(".note-link-btn"),c=s.find("input[type=checkbox]");s.one("shown.bs.modal",function(){a.val(o.text),r.keyup(function(){e(l,r.val()),o.text||a.val(r.val())}).val(o.url).trigger("focus"),c.prop("checked",o.newWindow),l.one("click",function(e){e.preventDefault(),s.modal("hide"),t.resolve(r.val(),c.is(":checked"))})}).one("hidden.bs.modal",function(){i.focus(),r.off("keyup")}).modal("show")}).promise()},this.showHelpDialog=function(t,e){var i=e.find(".note-help-dialog");i.one("hidden.bs.modal",function(){t.focus()}).modal("show")}},y=function(){var n=new u,a=new f,c=new m,d=new v,h=new g,y=function(e){var i=t(e).closest(".note-editor");return i.length>0&&s.buildLayoutInfo(i)},b=function(e,i){n.restoreRange(e);var o=e.data("callbacks");o.onImageUpload?o.onImageUpload(i,n,e):t.each(i,function(t,i){r.readFileAsDataURL(i).then(function(t){n.insertImage(e,t)}).fail(function(){o.onImageUploadError&&o.onImageUploadError()})})},w=function(t){s.isImg(t.target)&&t.preventDefault()},C=function(t){var e=y(t.currentTarget||t.target),i=n.currentStyle(t.target);i&&(a.update(e.toolbar(),i),c.update(e.popover(),i),d.update(e.handle(),i))},x=function(t){var e=y(t.currentTarget||t.target);c.hide(e.popover()),d.hide(e.handle())},k=function(t){var e=t.originalEvent;if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var i=y(t.currentTarget||t.target),n=o.head(e.clipboardData.items),s="file"===n.kind&&-1!==n.type.indexOf("image/");s&&b(i.editable(),[n.getAsFile()])}},S=function(e){if(s.isControlSizing(e.target)){var i=y(e.target),o=i.handle(),a=i.popover(),r=i.editable(),l=i.editor(),h=o.find(".note-control-selection").data("target"),u=t(h),p=u.offset(),f=t(document).scrollTop();l.on("mousemove",function(t){n.resizeTo({x:t.clientX-p.left,y:t.clientY-(p.top-f)},u,!t.shiftKey),d.update(o,{image:h}),c.update(a,{image:h})}).one("mouseup",function(){l.off("mousemove")}),u.data("ratio")||u.data("ratio",u.height()/u.width()),n.recordUndo(r),e.stopPropagation(),e.preventDefault()}},T=function(e){var i=t(e.target).closest("[data-event]");i.length>0&&e.preventDefault()},D=function(o){var r=t(o.target).closest("[data-event]");if(r.length>0){var l,c,d,u=r.attr("data-event"),p=r.attr("data-value"),f=y(o.target),m=f.editor(),v=f.toolbar(),g=f.dialog(),w=f.editable(),x=f.codable(),k=m.data("options");if(-1!==t.inArray(u,["resize","floatMe","removeMedia"])){var S=f.handle(),T=S.find(".note-control-selection");d=t(T.data("target"))}if(n[u]&&(w.trigger("focus"),n[u](w,p,d)),-1!==t.inArray(u,["backColor","foreColor"]))a.updateRecentColor(r[0],u,p);else if("showLinkDialog"===u){w.focus();var D=n.getLinkInfo();n.saveRange(w),h.showLinkDialog(w,g,D).then(function(t,e){n.restoreRange(w),n.createLink(w,t,e)})}else if("showImageDialog"===u)w.focus(),h.showImageDialog(w,g).then(function(t){"string"==typeof t?(n.restoreRange(w),n.insertImage(w,t)):b(w,t)});else if("showVideoDialog"===u){w.focus();var E=n.getVideoInfo();n.saveRange(w),h.showVideoDialog(w,g,E).then(function(t){n.restoreRange(w),n.insertVideo(w,t)})}else if("showHelpDialog"===u)h.showHelpDialog(w,g);else if("fullscreen"===u){var $=t("html, body"),I=function(t){m.css("width",t.w),w.css("height",t.h),x.css("height",t.h),x.data("cmEditor")&&x.data("cmEditor").setSize(null,t.h)};m.toggleClass("fullscreen");var A=m.hasClass("fullscreen");A?(w.data("orgHeight",w.css("height")),t(window).on("resize",function(){I({w:t(window).width(),h:t(window).height()-v.outerHeight()})}).trigger("resize"),$.css("overflow","hidden")):(t(window).off("resize"),I({w:k.width||"",h:w.data("orgHeight")}),$.css("overflow","auto")),a.updateFullscreen(v,A)}else if("codeview"===u){m.toggleClass("codeview");var M=m.hasClass("codeview");if(M){if(x.val(w.html()),x.height(w.height()),a.deactivate(v),x.focus(),i.bCodeMirror){c=e.fromTextArea(x[0],t.extend({mode:"text/html",lineNumbers:!0},k.codemirror));var N=m.data("options").codemirror.tern||!1;N&&(l=new e.TernServer(N),c.ternServer=l,c.on("cursorActivity",function(t){l.updateArgHints(t)})),c.setSize(null,w.outerHeight()),c.autoFormatRange&&c.autoFormatRange({line:0,ch:0},{line:c.lineCount(),ch:c.getTextArea().value.length}),x.data("cmEditor",c)}}else i.bCodeMirror&&(c=x.data("cmEditor"),x.val(c.getValue()),c.toTextArea()),w.html(x.val()||s.emptyPara),w.height(k.height?x.height():"auto"),a.activate(v),w.focus();a.updateCodeview(f.toolbar(),M)}C(o)}},E=24,$=function(e){var i=t(document),n=y(e.target).editable(),o=n.offset().top-i.scrollTop();i.on("mousemove",function(t){var e=t.clientY-(o+E);n.height(e)}).one("mouseup",function(){i.off("mousemove")}),e.stopPropagation(),e.preventDefault()},I=18,A=function(e){var i,n=t(e.target.parentNode),o=n.next(),s=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),r=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=t(e.target).offset();i={x:e.pageX-l.left,y:e.pageY-l.top}}else i={x:e.offsetX,y:e.offsetY};var c={c:Math.ceil(i.x/I)||1,r:Math.ceil(i.y/I)||1};a.css({width:c.c+"em",height:c.r+"em"}),s.attr("data-value",c.c+"x"+c.r),3<c.c&&c.c<10&&r.css({width:c.c+1+"em"}),3<c.r&&c.r<10&&r.css({height:c.r+1+"em"}),o.html(c.c+" x "+c.r)},M=function(e){var i=t(),n=e.dropzone,o=e.dropzone.find(".note-dropzone-message");t(document).on("dragenter",function(t){var s=e.editor.hasClass("codeview");s||0!==i.length||(e.editor.addClass("dragover"),n.width(e.editor.width()),n.height(e.editor.height()),o.text("Drag Image Here")),i=i.add(t.target)}).on("dragleave",function(t){i=i.not(t.target),0===i.length&&e.editor.removeClass("dragover")}).on("drop",function(){i=t(),e.editor.removeClass("dragover")}),n.on("dragenter",function(){n.addClass("hover"),o.text("Drop Image")}).on("dragleave",function(){n.removeClass("hover"),o.text("Drag Image Here")}),n.on("drop",function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var i=y(t.currentTarget||t.target);i.editable().focus(),b(i.editable(),e.files)}t.preventDefault()}).on("dragover",!1)};this.bindKeyMap=function(t,e){var i=t.editor,o=t.editable;o.on("keydown",function(t){var s=[];t.metaKey&&s.push("CMD"),t.ctrlKey&&s.push("CTRL"),t.shiftKey&&s.push("SHIFT");var a=l.nameFromCode[t.keyCode];a&&s.push(a);var r=e[s.join("+")];r?(t.preventDefault(),n[r](o,i.data("options"))):l.isEdit(t.keyCode)&&n.recordUndo(o)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[i.bMac?"mac":"pc"]),t.editable.on("mousedown",w),t.editable.on("keyup mouseup",C),t.editable.on("scroll",x),t.editable.on("paste",k),e.disableDragAndDrop||M(t),t.handle.on("mousedown",S),t.toolbar.on("click",D),t.popover.on("click",D),t.toolbar.on("mousedown",T),t.popover.on("mousedown",T),t.statusbar.on("mousedown",$);var o=t.toolbar,s=o.find(".note-dimension-picker-mousecatcher");if(s.on("mousemove",A),t.editable.on("blur",function(){n.saveRange(t.editable)}),t.editor.data("options",e),e.styleWithSpan&&!i.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)}),t.editable.data("NoteHistory",new p),e.onenter&&t.editable.keypress(function(t){t.keyCode===l.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var a=function(){e.onChange(t.editable,t.editable.html())};i.bMSIE?t.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted",a):t.editable.on("input",a)}t.editable.data("callbacks",{onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},b=function(){var e,n,o,a,r;e={picture:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.link+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+t.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+t.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+t.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+t.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+t.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+t.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+t.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+t.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+t.style.h6+"</h6></a></li></ul>"},fontname:function(t){var e=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],i='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';i+='<ul class="dropdown-menu">';for(var n=0;n<e.length;n++)i+='<li><a data-event="fontName" data-value="'+e[n]+'"><i class="fa fa-check icon-ok"></i> '+e[n]+"</a></li>";return i+="</ul>"},fontsize:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+t.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="⌘+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="⌘+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="⌘+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},strike:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.strike+'" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>'},clear:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="⌘+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="⌘+⇧+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="⌘+⇧+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="⌘+⇧+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="⌘+⇧+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="⌘+⇧+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="⌘+⇧+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="⌘+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="⌘+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.help+'" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}},n=function(t){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var o=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},l=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>⌘ + B</td><td>"+t.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+t.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+t.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+t.font.strike+"</td></tr><tr><td>⌘ + \\</td><td>"+t.font.clear+"</td></tr></tr></tbody></table>"},c=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.action+"</th></tr></thead><tbody><tr><td>⌘ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+t.hr.insert+"</td></tr></tbody></table>"},d=function(t,e){var i='<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var n in e.extraKeys)e.extraKeys.hasOwnProperty(n)&&(i+="<tr><td>"+n+"</td><td>"+e.extraKeys[n]+"</td></tr>");return i+="</tbody></table>"},h=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>⌘ + ⇧ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+t.lists.unordered+"</td></tr></tbody></table>"},u=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>⌘ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+t.style.h6+"</td></tr></tbody></table>"},p=function(t,e){var i='<table class="note-shortcut-layout"><tbody><tr><td>'+c(t,e)+"</td><td>"+l(t,e)+"</td></tr><tr><td>"+u(t,e)+"</td><td>"+h(t,e)+"</td></tr>";return e.extraKeys&&(i+='<tr><td colspan="2">'+d(t,e)+"</td></tr>"),i+="</tbody</table>"},f=function(t){return t.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")};a=function(t,e){var n=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+t.image.insert+"</button></div></div></div></div>"},o=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+t.link.insert+"</button></div></div></div></div>"},s=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+t.video.insert+"</button></div></div></div></div>"},a=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(i.bMac?p(t,e):f(p(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+n()+o()+s()+a()+"</div>"},r=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var m=function(e,n){e.find("button").each(function(e,n){var o=t(n),s=o.attr(i.bMac?"data-mac-shortcut":"data-shortcut");s&&o.attr("title",function(t,e){return e+" ("+s+")"})}).tooltip({container:"body",trigger:"hover",placement:n||"top"}).on("click",function(){t(this).tooltip("hide")})},v=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],g=function(e){e.find(".note-color-palette").each(function(){for(var e=t(this),i=e.attr("data-target-event"),n=[],o=0,s=v.length;s>o;o++){for(var a=v[o],r=[],l=0,c=a.length;c>l;l++){var d=a[l];r.push(['<button type="button" class="note-color-btn" style="background-color:',d,';" data-event="',i,'" data-value="',d,'" title="',d,'" data-toggle="button" tabindex="-1"></button>'].join(""))}n.push("<div>"+r.join("")+"</div>")}e.html(n.join(""))})};this.createLayout=function(i,l){var c=i.next();if(!c||!c.hasClass("note-editor")){var d=t('<div class="note-editor"></div>');l.width&&d.width(l.width),l.height>0&&t('<div class="note-statusbar">'+r()+"</div>").prependTo(d);var h=!i.is(":disabled"),u=t('<div class="note-editable" contentEditable="'+h+'"></div>').prependTo(d);l.height&&u.height(l.height),l.direction&&u.attr("dir",l.direction),u.html(s.html(i)||s.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(d);for(var p=t.summernote.lang[l.lang],f="",v=0,y=l.toolbar.length;y>v;v++){var b=l.toolbar[v];f+='<div class="note-'+b[0]+' btn-group">';for(var w=0,C=b[1].length;C>w;w++)f+=e[b[1][w]](p);f+="</div>"}f='<div class="note-toolbar btn-toolbar">'+f+"</div>";var x=t(f).prependTo(d);g(x),m(x,"bottom");var k=t(n(p)).prependTo(d);m(k),t(o()).prependTo(d);var S=t(a(p,l)).prependTo(d);S.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(d),d.insertAfter(i),i.hide()}},this.layoutInfoFromHolder=function(t){var e=t.next();if(e.hasClass("note-editor")){var i=s.buildLayoutInfo(e);for(var n in i)i.hasOwnProperty(n)&&(i[n]=i[n].call());return i}},this.removeLayout=function(t){var e=this.layoutInfoFromHolder(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}};t.summernote=t.summernote||{},t.extend(t.summernote,a);var w=new b,C=new y;t.fn.extend({summernote:function(e){if(e=t.extend({},t.summernote.options,e),this.each(function(i,n){var o=t(n);w.createLayout(o,e);var a=w.layoutInfoFromHolder(o);C.attach(a,e),s.isTextarea(o[0])&&o.closest("form").submit(function(){o.html(o.code())})}),this.first()&&e.focus){var i=w.layoutInfoFromHolder(this.first());i.editable.focus()}return this.length>0&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var n=this.first();if(0===n.length)return;var o=w.layoutInfoFromHolder(n);if(o&&o.editable){var s=o.editor.hasClass("codeview");return s&&i.bCodeMirror&&o.codable.data("cmEditor").save(),s?o.codable.val():o.editable.html()}return n.html()}return this.each(function(i,n){var o=w.layoutInfoFromHolder(t(n));o&&o.editable&&o.editable.html(e)}),this},destroy:function(){return this.each(function(e,i){var n=t(i),o=w.layoutInfoFromHolder(n);o&&o.editable&&(C.dettach(o),w.removeLayout(n))}),this}})}),function(){function t(e){var i=t.modules[e];if(!i)throw new Error('failed to require "'+e+'"');return"exports"in i||"function"!=typeof i.definition||(i.client=i.component=!0,i.definition.call(this,i.exports={},i),delete i.definition),i.exports}t.loader="component",t.helper={},t.helper.semVerSort=function(t,e){for(var i=t.version.split("."),n=e.version.split("."),o=0;o<i.length;++o){var s=parseInt(i[o],10),a=parseInt(n[o],10);if(s!==a)return s>a?1:-1;var r=i[o].substr((""+s).length),l=n[o].substr((""+a).length);if(""===r&&""!==l)return 1;if(""!==r&&""===l)return-1;if(""!==r&&""!==l)return r>l?1:-1}return 0},t.latest=function(e,i){function n(t){throw new Error('failed to find latest module of "'+t+'"')}var o=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,s=/(.*)~(.*)/;s.test(e)||n(e);for(var a=Object.keys(t.modules),r=[],l=[],c=0;c<a.length;c++){var d=a[c];if(new RegExp(e+"@").test(d)){var h=d.substr(e.length+1),u=o.exec(d);null!=u?r.push({version:h,name:d}):l.push({version:h,name:d})}}if(0===r.concat(l).length&&n(e),r.length>0){var p=r.sort(t.helper.semVerSort).pop().name;return i===!0?p:t(p)}var p=l.pop().name;return i===!0?p:t(p)},t.modules={},t.register=function(e,i){t.modules[e]={definition:i}},t.define=function(e,i){t.modules[e]={
exports:i}},t.register("abpetkov~transitionize@0.0.3",function(t,e){function i(t,e){return this instanceof i?(this.element=t,this.props=e||{},void this.init()):new i(t,e)}e.exports=i,i.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},i.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs~fastclick@v0.6.11",function(t,e){function i(t){"use strict";var e,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return i.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return i.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return i.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){return i.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){return i.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return i.prototype.onTouchCancel.apply(n,arguments)},i.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}i.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,i.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),i.prototype.deviceIsIOS4=i.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i.prototype.deviceIsIOSWithBadTarget=i.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),i.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},i.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],this.deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},i.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},i.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){"use strict";var e,i,n,o,s,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=a.tagName.toLowerCase(),"label"===n){if(e=this.findControl(a)){if(this.focus(a),this.deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(a),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(o=a.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},i.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){"use strict";var e,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},i.attach=function(t){"use strict";return new i(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return i}):"undefined"!=typeof e&&e.exports?(e.exports=i.attach,e.exports.FastClick=i):window.FastClick=i}),t.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}}),t.register("component~classes@1.2.1",function(e,i){function n(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var o=t("component~indexof@0.0.3"),s=/\s+/,a=Object.prototype.toString;i.exports=function(t){return new n(t)},n.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),i=o(e,t);return~i||e.push(t),this.el.className=e.join(" "),this},n.prototype.remove=function(t){if("[object RegExp]"==a.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),i=o(e,t);return~i&&e.splice(i,1),this.el.className=e.join(" "),this},n.prototype.removeMatching=function(t){for(var e=this.array(),i=0;i<e.length;i++)t.test(e[i])&&this.remove(e[i]);return this},n.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},n.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,""),e=t.split(s);return""===e[0]&&e.shift(),e},n.prototype.has=n.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}}),t.register("switchery",function(e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);this.element=t,this.options=e||{};for(var i in r)null==this.options[i]&&(this.options[i]=r[i]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var o=t("abpetkov~transitionize@0.0.3"),s=t("ftlabs~fastclick@v0.6.11"),a=t("component~classes@1.2.1");i.exports=n;var r={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};n.prototype.hide=function(){this.element.style.display="none"},n.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},n.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},n.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},n.prototype.isChecked=function(){return this.element.checked},n.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},n.prototype.setPosition=function(t){var e=this.isChecked(),i=this.switcher,n=this.jack;t&&e?e=!1:t&&!e&&(e=!0),e===!0?(this.element.checked=!0,window.getComputedStyle?n.style.left=parseInt(window.getComputedStyle(i).width)-parseInt(window.getComputedStyle(n).width)+"px":n.style.left=parseInt(i.currentStyle.width)-parseInt(n.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(n.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==r.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackColor,this.setSpeed())},n.prototype.setSpeed=function(){var t={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},o(this.switcher,t),o(this.jack,e)},n.prototype.setSize=function(){var t="switchery-small",e="switchery-default",i="switchery-large";switch(this.options.size){case"small":a(this.switcher).add(t);break;case"large":a(this.switcher).add(i);break;default:a(this.switcher).add(e)}},n.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},n.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},n.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},n.prototype.handleClick=function(){var t=this,e=this.switcher,i=t.element.parentNode.tagName.toLowerCase(),n="label"!==i;this.isDisabled()===!1?(s(e),e.addEventListener?e.addEventListener("click",function(e){t.setPosition(n),t.handleOnchange(t.element.checked)}):e.attachEvent("onclick",function(){t.setPosition(n),t.handleOnchange(t.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},n.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},n.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},n.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()}}),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return t("switchery")}):(this||window).Switchery=t("switchery")}(),function(){var t,e,i,n,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var i,n;for(i in e)n=e[i],null==t[i]&&(t[i]=n);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.addEvent=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):null!=t.attachEvent?t.attachEvent("on"+e,i):t[e]=i},t.prototype.removeEvent=function(t,e,i){return null!=t.removeEventListener?t.removeEventListener(e,i,!1):null!=t.detachEvent?t.detachEvent("on"+e,i):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),i=this.WeakMap||this.MozWeakMap||(i=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,i,n,o,s;for(s=this.keys,e=n=0,o=s.length;o>n;e=++n)if(i=s[e],i===t)return this.values[e]},t.prototype.set=function(t,e){var i,n,o,s,a;for(a=this.keys,i=o=0,s=a.length;s>o;i=++o)if(n=a[i],n===t)return void(this.values[i]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&void 0,"undefined"!=typeof console&&null!==console&&void 0}return t.notSupported=!0,t.prototype.observe=function(){},t}()),n=this.getComputedStyle||function(t){return this.getPropertyValue=function(e){var i;return"float"===e&&(e="styleFloat"),o.test(e)&&e.replace(o,function(t,e){return e.toUpperCase()}),(null!=(i=t.currentStyle)?i[e]:void 0)||null},this},o=/(\-([a-z]){1})/g,this.WOW=function(){function o(t){null==t&&(t={}),this.scrollCallback=s(this.scrollCallback,this),this.scrollHandler=s(this.scrollHandler,this),this.start=s(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new i}return o.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},o.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},o.prototype.start=function(){var e,i,n,o;if(this.stopped=!1,this.boxes=function(){var t,i,n,o;for(n=this.element.querySelectorAll("."+this.config.boxClass),o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(e);return o}.call(this),this.all=function(){var t,i,n,o;for(n=this.boxes,o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(e);return o}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(o=this.boxes,i=0,n=o.length;n>i;i++)e=o[i],this.applyStyle(e,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new t(function(t){return function(e){var i,n,o,s,a;for(a=[],o=0,s=e.length;s>o;o++)n=e[o],a.push(function(){var t,e,o,s;for(o=n.addedNodes||[],s=[],t=0,e=o.length;e>t;t++)i=o[t],s.push(this.doSync(i));return s}.call(t));return a}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},o.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},o.prototype.sync=function(){return t.notSupported?this.doSync(this.element):void 0},o.prototype.doSync=function(t){var e,i,n,o,s;if(null==t&&(t=this.element),1===t.nodeType){for(t=t.parentNode||t,o=t.querySelectorAll("."+this.config.boxClass),s=[],i=0,n=o.length;n>i;i++)e=o[i],a.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),s.push(this.scrolled=!0)):s.push(void 0);return s}},o.prototype.show=function(t){return this.applyStyle(t),t.className=""+t.className+" "+this.config.animateClass},o.prototype.applyStyle=function(t,e){var i,n,o;return n=t.getAttribute("data-wow-duration"),i=t.getAttribute("data-wow-delay"),o=t.getAttribute("data-wow-iteration"),this.animate(function(s){return function(){return s.customStyle(t,e,n,i,o)}}(this))},o.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),o.prototype.resetStyle=function(){var t,e,i,n,o;for(n=this.boxes,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(t.style.visibility="visible");return o},o.prototype.customStyle=function(t,e,i,n,o){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",i&&this.vendorSet(t.style,{animationDuration:i}),n&&this.vendorSet(t.style,{animationDelay:n}),o&&this.vendorSet(t.style,{animationIterationCount:o}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},o.prototype.vendors=["moz","webkit"],o.prototype.vendorSet=function(t,e){var i,n,o,s;s=[];for(i in e)n=e[i],t[""+i]=n,s.push(function(){var e,s,a,r;for(a=this.vendors,r=[],e=0,s=a.length;s>e;e++)o=a[e],r.push(t[""+o+i.charAt(0).toUpperCase()+i.substr(1)]=n);return r}.call(this));return s},o.prototype.vendorCSS=function(t,e){var i,o,s,a,r,l;for(o=n(t),i=o.getPropertyCSSValue(e),l=this.vendors,a=0,r=l.length;r>a;a++)s=l[a],i=i||o.getPropertyCSSValue("-"+s+"-"+e);return i},o.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(i){e=n(t).getPropertyValue("animation-name")}return"none"===e?"":e},o.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},o.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},o.prototype.scrollHandler=function(){return this.scrolled=!0},o.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,i,n,o;for(n=this.boxes,o=[],e=0,i=n.length;i>e;e++)t=n[e],t&&(this.isVisible(t)?this.show(t):o.push(t));return o}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},o.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},o.prototype.isVisible=function(t){var e,i,n,o,s;return i=t.getAttribute("data-wow-offset")||this.config.offset,s=window.pageYOffset,o=s+Math.min(this.element.clientHeight,this.util().innerHeight())-i,n=this.offsetTop(t),e=n+t.clientHeight,o>=n&&e>=s},o.prototype.util=function(){return null!=this._util?this._util:this._util=new e},o.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},o}()}.call(this);